<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title> Giới thiệu về Atomic CSS · Learn and Share</title><meta name="description" content="Giới thiệu về Atomic CSS - Hung Tan Nguyen"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#FB4D42"><meta name="google-site-verification" content="rk-Nc1c8xi1CdZ0ZQIVV-ifsndGrHanIuSHI-yTHZYE"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="/css/zoom.css"><meta property="og:title" content="Giới thiệu về Atomic CSS"><meta property="og:image" content="https://res.cloudinary.com/duqeezi8j/image/upload/c_scale,f_auto,w_1000/v1545725279/shOliZI_ovxxbt.jpg"><meta property="og:description" content=""></head><body><div class="wrap"><div class="header"><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nthung2112" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item search-form-input"><div class="search-icon"><div class="search-icon__circle"></div><div class="search-icon__rectangle"></div></div></li></ul><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" placeholder="Type something..." class="ins-search-input"><span class="ins-close ins-selectable"><div class="close-icon"><div class="close-icon__x"></div><div class="close-icon__y"></div></div></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>var rootUrl = "/";
var contentUrl = '/content.json';
(function (window) {
  var INSIGHT_CONFIG = {
  TRANSLATION: {
      POSTS:'Posts',
      PAGES: 'Pages',
      CATEGORIES: 'Categories',
      TAGS: 'Tags',
      UNTITLED: '(Untitled)'
    },
    ROOT_URL: rootUrl,
    CONTENT_URL: contentUrl,
  };
  window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);</script></div></div><section class="container"><div class="post"><article class="post-block"><div class="wrap"><h1 class="post-title">Giới thiệu về Atomic CSS</h1><h2 class="post-subtitle"></h2><header class="post-info">Jan 6, 2019<div class="tags"><a href="/tags/css" class="tag-link">#css</a><a href="/tags/atomic" class="tag-link">#atomic</a></div><div class="fb-ir-time"><time datetime="2019-01-06T10:18:00.000Z" class="op-modified"></time><time datetime="2019-01-06T10:18:00.000Z" class="op-published"></time></div></header></div><div class="post-banner"><img src="https://res.cloudinary.com/duqeezi8j/image/upload/c_scale,f_auto,w_1000/v1545725279/shOliZI_ovxxbt.jpg"></div><div class="wrap"><div class="post-content"><h2 id="Nhung-van-de-voi-cach-viet-CSS-hien-tai"><a href="#Nhung-van-de-voi-cach-viet-CSS-hien-tai" class="headerlink" title="Những vấn đề với cách viết CSS hiện tại"></a>Những vấn đề với cách viết CSS hiện tại</h2><h3 id="Specificity-war-tham-cung-noi-chien"><a href="#Specificity-war-tham-cung-noi-chien" class="headerlink" title="Specificity war, thâm cung nội chiến"></a>Specificity war, thâm cung nội chiến</h3><p>Bạn còn nhớ lần đầu bạn viết CSS giống như thế nào không? Có thể là khai báo style cho một thẻ HTML nào đó.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: rainbow;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Sau đó bạn biết thêm về ID và class:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">color</span>: fabulous;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">700</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Và bạn học được cách xử lý các pseudo selectors, hoặc khai báo cho các phần tử anh chị em con cháu họ hàng, v.v…</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-id">#header</span> &gt; <span class="selector-tag">a</span><span class="selector-pseudo">:first-child</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: unicorn;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#header</span> <span class="selector-tag">p</span> &gt; <span class="selector-tag">a</span><span class="selector-class">.text</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">'⛓'</span>;</span><br><span class="line">  <span class="attribute">font-family</span>: Comic Sans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Rồi khi bạn đã quen với CSS và bắt tay vào làm dự án thực tế, bạn bàng hoàng nhận ra kẻ thù không ở đâu xa, chúng đang lởn vởn quanh ta í mà. Bạn bước vào cuộc chiến gọi là <a href="https://css-tricks.com/a-specificity-battle/" target="_blank" rel="noopener">“specificity war”</a>, đánh nhau tơi bời khói lửa với class được viết bởi các chiến hữu trong team. Quả là một trận đấu kinh hoàng khi ai cũng muốn đè đầu cưỡi cổ (override) người đi trước. Kẻ nắm giữ !important trong tay cứ nghĩ đã gần với chiến thắng, nào ngờ xuất hiện tiểu nhân dùng inline style + !important. Tình anh em sứt mẻ, chiến hữu quay đầu không nhìn mặt nhau. Bạn ức chế và gào lên “đậu phộng CSS 🥜”.</p>
<blockquote>
<p><strong>Specificity là gì?</strong></p>
<p>Specificity là một trọng số được trình duyệt sử dụng để quyết định CSS style nào sẽ được áp dụng cho các element. Specificity được tính toán dựa vào phân loại selector và số lượng selector áp dụng lên một element. Bạn có thể đọc thêm về chủ đề này <a href="http://gockinhnghiem.com/2011/11/09/specificity-trong-css-la-gi/" target="_blank" rel="noopener">ở đây</a> hoặc trên trang <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Specificity" target="_blank" rel="noopener">MDN</a>. <a href="http://cssspecificity.com" target="_blank" rel="noopener">http://cssspecificity.com</a> minh hoạ khá cụ thể cách tính specificity.</p>
</blockquote>
<h3 id="Block-Element–Modifier"><a href="#Block-Element–Modifier" class="headerlink" title="Block__Element–Modifier"></a>Block__Element–Modifier</h3><p>Dân tay to mặt bự đọc đến đây có lẽ đang âm thầm (hoặc công khai) cười khẩy: “Ai kêu gà, xài BEM là được rồi”. Chíp chíp 🐥</p>
<blockquote>
<p><strong>Cho những bạn chưa biết:</strong></p>
<p><a href="https://css-tricks.com/bem-101/" target="_blank" rel="noopener">BEM - Block Element Modifier</a> là một phương pháp đặt tên CSS class được phát triển bởi Yandex. Theo lý thuyết, BEM giúp bạn xây dựng các class theo từng block, mỗi block lại có element con, và các element này có thể sẽ có giao diện khác nhau tuỳ thuộc vào modifier của nó.</p>
<p>Ví dụ đây là CSS:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt; <span class="comment">/* Block */</span></span><br><span class="line">&gt; .btn &#123;</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt; </span><br><span class="line">&gt; <span class="comment">/* Element */</span></span><br><span class="line">&gt; .btn__price &#123;</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt; </span><br><span class="line">&gt; <span class="comment">/* Modifier */</span></span><br><span class="line">&gt; .btn--big &#123;</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt; </span><br><span class="line">&gt; .btn--green &#123;</span><br><span class="line">&gt; &#125;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p>Áp dụng vào HTML:</p>
<p><code>&lt;button class=&quot;btn btn--big btn--green&quot;&gt;&lt;span class=&quot;btn__price&quot;&gt;$9.99&lt;/span&gt;&lt;/button&gt;</code></p>
</blockquote>
<p>Hoàn toàn không sai. BEM là một phương pháp hiệu quả để chia nhỏ trang thành từng component, và bạn hoàn toàn có thể tránh được cuộc thánh chiến ở trên bằng cách chỉ sử dụng class được đặt tên theo BEM. Ngoài ra, khi một component không còn được dùng nữa, bạn có thể tự tin xoá đi class của nó mà không sợ ảnh hưởng đến các component khác.</p>
<p>Tuy nhiên BEM cũng có những vấn đề “khó chịu” mà bạn có thể xem thêm ở bài viết <a href="https://www.smashingmagazine.com/2016/06/battling-bem-extended-edition-common-problems-and-how-to-avoid-them/" target="_blank" rel="noopener">Battling BEM CSS: 10 Common Problems And How To Avoid Them</a>. Kinh nghiệm cá nhân là khi làm việc với BEM, có thể bạn sẽ bỏ kha khá thời gian chỉ để suy nghĩ về ngữ nghĩa (semantics) của class. Bạn sẽ phải cân nhắc block này nên đặt tên là gì, những thành phần con của nó có nên là element hay là một component khác, rồi element này nên có tên chi, nên gọi nó là wrapper, container, hay body, v.v… Đừng coi thường việc đặt tên nhé, một trong những vấn đề khó nhai nhất của khoa học máy tính đấy. Ngoài ra tên class thường dính liền với cấu trúc/ nội dung HTML mà nó được sử dụng, dẫn đến việc khi refactor code lại (chuyển thành component tổng quát hơn), chúng ta phải tốn thời gian suy nghĩ tên khác cho hợp lý.</p>
<p>Với mình, việc suy nghĩ thêm về ngữ nghĩa cho CSS class không đem lại hiệu quả đáng kể. Vì không giống như HTML, trình duyệt và crawlers không quan tâm bạn đặt tên class có ý nghĩa hay không. Chúng chỉ có giá trị với lập trình viên, và thường thì chúng ta chỉ muốn viết HTML/CSS sao cho giống với thiết kế từ designers nhất mà thôi.</p>
<h3 id="Tinh-tai-su-dung-va-kich-thuoc-tap-tin-CSS"><a href="#Tinh-tai-su-dung-va-kich-thuoc-tap-tin-CSS" class="headerlink" title="Tính tái sử dụng và kích thước tập tin CSS"></a>Tính tái sử dụng và kích thước tập tin CSS</h3><p>Mỉa mai thay, tính chất “cascading” của CSS vốn được sinh ra để hỗ trợ tái sử dụng code lại là một con dao 2 lưỡi và đem đến phiền muộn cho biết bao nhiêu người. Cascading cùng với specificity làm cho CSS trở nên khó dự đoán và lời khuyên là hạn chế cascading được bao nhiêu hay bấy nhiêu. Điều này dẫn đến tập tin CSS chứa nhiều khai báo bị trùng lắp.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.ie6 #footer-content .flex-control-nav li a,</span><br><span class="line">.ie7 #footer-content .flex-control-nav li a,</span><br><span class="line">.ie8 #footer-content .flex-control-nav li a &#123;</span><br><span class="line">  float: left;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#nav.challenger-a li.menu-products &#123;</span><br><span class="line">  float: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Khi dự án của bạn phát triển, nhiều component xuất hiện đồng nghĩa với kích thước tập tin CSS ngày càng to ra. Đáng buồn là, không phải tất cả CSS được gửi xuống cho người dùng sẽ thật sự được sử dụng trong trang.</p>
<p><img src="https://res.cloudinary.com/duqeezi8j/image/upload/f_auto,c_scale,w_1000/v1545725390/1_qoyWe6NLqjzVRlDb5YWQAA_nhykgd.jpg" alt=""></p>
<p><em>Kích thước tập tin CSS của các website lớn, tính đến tháng 11 năm 2016. Nguồn: [1]</em></p>
<h2 id="Vay-atomic-CSS-giai-quyet-duoc-nhung-van-de-tren-a"><a href="#Vay-atomic-CSS-giai-quyet-duoc-nhung-van-de-tren-a" class="headerlink" title="Vậy atomic CSS giải quyết được những vấn đề trên à?"></a>Vậy atomic CSS giải quyết được những vấn đề trên à?</h2><p>Có thể. Nhưng trước hết hãy xem atomic CSS là gì đã.</p>
<p>Atomic CSS là cách khai báo các class sao cho mỗi class chỉ mô tả một tính năng duy nhất. Để xây dựng component lớn hơn, chúng ta sẽ kết hợp các class nguyên tử này lại với nhau. Chẳng hạn như:</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.white</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.bg-green</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#3d9970</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.px-10</span> &#123;</span><br><span class="line">  <span class="attribute">padding-left</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">padding-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*  Oát đờ hợi (ಠ_ಠ) */</span></span><br></pre></td></tr></table></figure>
<p>Trong ví dụ trên, class white chỉ làm duy nhất một việc là đổi chữ sang màu trắng, bg-green sẽ thiết lập nền sang màu xanh, trong khi px-10 chỉnh padding ở bên trái và phải (trục x/ trục hoành) thành 10px. Một component được viết theo atomic CSS sẽ giống như thế này:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"b1 b--green bg-green white br-5 ma-10 f3 ttu fw-400 padding-10"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"bg-dark o4 white padding-x-12 fw-600 br-left-5"</span>&gt;</span>$9.99<span class="tag">&lt;/<span class="name">span</span>&gt;</span> Purchase</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>See the Pen <a href="https://codepen.io/ehkoo/pen/KbmGEq/" target="_blank" rel="noopener">BEM vs atomic CSS</a> by Ehkoo (<a href="https://codepen.io/ehkoo" target="_blank" rel="noopener">@ehkoo</a>) on <a href="https://codepen.io" target="_blank" rel="noopener">CodePen</a>.</p>
<p>Atomic CSS đang được sử dụng bởi các công ty như <a href="https://www.npmjs.com/" target="_blank" rel="noopener">npm</a>, <a href="https://stackoverflow.design/product/guidelines/using-stacks#goals" target="_blank" rel="noopener">StackOverflow</a>, <a href="https://design.herokai.com/purple3" target="_blank" rel="noopener">Heroku</a>, v.v…</p>
<p><strong>Chuyện bên lề: Functional CSS, Atomic CSS, hay Utility-first CSS?</strong></p>
<p>“Functional CSS” là tên gọi đầu tiên mình bắt gặp khi tìm hiểu về cách viết CSS này. Từ “functional” ngoài nghĩa như trong “functional programming” còn có nghĩa là “hoạt động” (trích <a href="https://en.oxforddictionaries.com/definition/functional" target="_blank" rel="noopener">từ điển Oxford</a>). Do đó “functional CSS” có thể hiểu là “CSS hoạt động được”, hoàn toàn không liên quan đến ý tưởng chính: đặt CSS class thành từng hàm nhỏ.</p>
<p>Một tên gọi khác là “Atomic CSS”, theo nghĩa mỗi class là một “nguyên tử” độc lập. Tên gọi này rất phù hợp với tiêu chí chia nhỏ class, nhưng đáng tiếc thay khi nó “có thể” nhầm lẫn là có liên quan tới phương thức <a href="http://atomicdesign.bradfrost.com/chapter-2/" target="_blank" rel="noopener">Atomic Design</a>. Ngoài ra, có một thư viện của Yahoo! cũng tên là <a href="https://acss.io/" target="_blank" rel="noopener">Atomic CSS</a>.</p>
<p>Cuối cùng, “Utility-first CSS” có lẽ là tên gọi mô tả chính xác nhất. “Utility-first” mang nghĩa “tập trung xây dựng các class hỗ trợ”. Điểm trừ của thuật ngữ này là…tên dài quá.</p>
<p>Suy đi xét lại thiệt hơn thì trong bài viết này mình chọn “atomic CSS” (chữ “a” viết thường) vì…gõ nhanh thôi. Nhưng bạn để ý là 3 thuật ngữ này đều dùng chung cho một cách viết CSS nhé.</p>
<h2 id="Vay-co-gi-hay"><a href="#Vay-co-gi-hay" class="headerlink" title="Vậy có gì hay?"></a>Vậy có gì hay?</h2><h3 id="Tranh-canh-binh-dao"><a href="#Tranh-canh-binh-dao" class="headerlink" title="Tránh cảnh binh đao"></a>Tránh cảnh binh đao</h3><p>Lợi ích đầu tiên là cũng giống như BEM, atomic CSS chỉ cho phép khai báo các class nên chúng không xảy ra tranh chấp specificity. Đồng thời vì mỗi class chỉ mô tả một tính năng duy nhất, việc các thuộc tính giẫm chân lên nhau được hạn chế ở mức thấp nhất.</p>
<p>Còn vẫn ghét nhau quá, muốn đạp nhau cho chết thì đây:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"red"</span>&gt;</span></span><br><span class="line">  Roses are red</span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"blue"</span>&gt;</span></span><br><span class="line">    Violets are blue</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"yellow"</span>&gt;</span></span><br><span class="line">      Honey is sweet</span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"brown"</span>&gt;</span>But not as sweet as you<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p><em>Credit: @huytd</em></p>
<h3 id="Tap-tin-CSS-nhe-hon"><a href="#Tap-tin-CSS-nhe-hon" class="headerlink" title="Tập tin CSS nhẹ hơn"></a>Tập tin CSS nhẹ hơn</h3><p>Bằng cách xây dựng component bằng những class nguyên tử, bạn không cần phải lặp đi lặp lại những khai báo đã có. Khi nhận được thiết kế cho component mới, bạn chỉ cần kết hợp những class đã có sẵn với nhau hoặc viết thêm atomic classes. Những class mới xuất hiện sẽ tiếp tục được tái sử dụng nên số lượng class bạn thêm vào sẽ ngày càng giảm đi khi tuổi thọ của dự án dài ra. Trong bài viết <a href="https://medium.com/@johnpolacek/by-the-numbers-a-year-and-half-with-atomic-css-39d75b1263b4" target="_blank" rel="noopener">By The Numbers: A Year and Half with Atomic CSS</a>, John Polacek đã thử nghiệm chuyển đổi từ CSS truyền thống sang atomic CSS và kết quả là dung lượng tập tin giảm từ 123.1KB xuống còn 72.7KB (chưa nén gzip).</p>
<p><img src="https://res.cloudinary.com/duqeezi8j/image/upload/c_scale,f_auto,w_1000/v1545725434/1_Tvxaigmr3ve2GrWDwHB9Pw_qtsoai.jpg" alt=""></p>
<p>Kết quả cuối cùng là càng ngày bạn sẽ càng viết ít CSS lại.</p>
<h3 id="Khong-phai-suy-nghi-chuyen-dat-ten-class"><a href="#Khong-phai-suy-nghi-chuyen-dat-ten-class" class="headerlink" title="Không phải suy nghĩ chuyện đặt tên class"></a>Không phải suy nghĩ chuyện đặt tên class</h3><p>Vì các atomic classes được đặt tên gần với thuộc tính của chúng, bạn không cần phải suy nghĩ nên đặt tên gì. Một lợi ích nữa là nhìn vào HTML bạn có thể tương đối biết được style của một element. Lấy ví dụ:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- BEM --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"btn btn--big btn--green"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"btn__price"</span>&gt;</span>$9.99<span class="tag">&lt;/<span class="name">span</span>&gt;</span> Purchase<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- atomic CSS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">"b1 b--green bg-green white br-5 ma-10 f3 ttu fw-400 padding-10"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"bg-dark o4 white padding-x-12 fw-600 br-left-5"</span>&gt;</span>$9.99<span class="tag">&lt;/<span class="name">span</span>&gt;</span> Purchase</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>Với BEM, bạn có thể sơ đoán “à cái nút này là cái nút màu xanh bự nè”, nhưng “bự” là cái gì “bự”, font size hay height, và cái gì “xanh”, chữ xanh, nền xanh hay viền xanh. Khi đi đến btn__price thì hoàn toàn không thể biết được style của nó. So sánh với atomic CSS, bạn có thể đọc ngay là “nút này có viền 1px, viền màu xanh, nền xanh, chữ trắng, bo tròn góc 5px, margin ở bốn phía 10px, font ở level 3, chữ được chuyển thành chữ hoa có font weight 400, padding bốn phía 10px”. Tương tự với thẻ SPAN, bạn có thể đọc là “nền đen có opacity 0.4, chữ trắng, padding trái phải 12px, font weight 600, bo tròn góc bên trái 5px”.</p>
<p>Liệu việc đọc style như thế này có cần thiết? Nếu bạn mới bắt đầu, câu trả lời có thể là không, nhưng khi đã quen rồi, đọc class nhanh giúp bạn debug và thay đổi style dễ dàng hơn.</p>
<h3 id="Xay-dung-prototype-nhanh-hon"><a href="#Xay-dung-prototype-nhanh-hon" class="headerlink" title="Xây dựng prototype nhanh hơn"></a>Xây dựng prototype nhanh hơn</h3><p>Prototyping, hay là chuyện làm những giao diện giả để kiểm tra UI/UX, không còn lạ với dân làm frontend nữa. Một trong những lý do bạn chọn Bootstrap, Foundation, hay Bulma… cho dự án vì đơn giản chúng cung cấp những component được xây dựng sẵn, cùng với hệ thống grid và các class hỗ trợ. Nhưng rồi bạn sẽ lâm vào cảnh đánh nhau với các class của framework để tuỳ biến cho phù hợp với chuẩn thiết kế. Kết quả ra sao thì bạn biết rồi.</p>
<p>Các framework được thiết kế theo hướng atomic không có nhiều component, nhưng bù lại chúng không đặt quá nhiều ý kiến riêng và ép buộc bạn phải làm theo. Hầu hết đều cho phép bạn tuỳ chỉnh màu sắc, kích thước theo ý, từ đó bạn có thể xây dựng lên những component cần thiết.</p>
<h2 id="Han-che"><a href="#Han-che" class="headerlink" title="Hạn chế"></a>Hạn chế</h2><h3 id="Bung-no-class"><a href="#Bung-no-class" class="headerlink" title="Bùng nổ class"></a>Bùng nổ class</h3><p><a href="http://tachyons.io/docs/themes/skins/" target="_blank" rel="noopener">Tachyons</a> là một trong những atomic CSS framework phổ biến nhất. Trong phiên bản 4.10.0, Tachyons hỗ trợ 37 màu. Giả sử mỗi màu sẽ có class tương ứng với màu chữ, màu nền, màu viền, hover đổi màu chữ, hover đổi màu nền, và hover đổi màu viền. Tachyons có 3 breakpoints. Như vậy tổng số class được tạo ra là 37 x 8 (thuộc tính) x 3 = 888 classes. Nếu bạn phải sử dụng nhiều màu hơn, ví dụ như color palette của <a href="https://material.io/design/color/the-color-system.html#tools-for-picking-colors" target="_blank" rel="noopener">Material Design</a>, hỗ trợ nhiều thuộc tính và pseudo selector hơn, thêm vài breakpoints nữa, bạn cũng có thể đoán được số lượng class phình ra như thế nào.</p>
<p>Thực tế là không phải tất cả class màu đều được sử dụng, nên việc tạo ra class để bao gồm tất cả các trường hợp là không cần thiết. Cách giải quyết ở đây là chỉ viết thêm class khi bạn thật sự cần đến nó.</p>
<h3 id="Tim-va-thay-doi-class-theo-yeu-cau-moi-kho-hon"><a href="#Tim-va-thay-doi-class-theo-yeu-cau-moi-kho-hon" class="headerlink" title="Tìm và thay đổi class theo yêu cầu mới khó hơn"></a>Tìm và thay đổi class theo yêu cầu mới khó hơn</h3><p>Giả sử một ngày đẹp trời nào đó, đồng chí Nguyễn Văn Xài Nơ quyết định nền màu xanh của tất cả các nút phải đậm hơn chút xíu, nút bự nghĩa là font size phải ở level 2. Với BEM, bạn chỉ cần thay đổi giá trị của class .btn–green và .btn–big là xong. Trong khi đó bạn không thể đổi mã màu của .bg-green bởi vì thay đổi này chỉ áp dụng trên nút và biết đâu được màu cũ vẫn được dùng ở nơi khác. Bạn cũng không thể tuỳ tiện tăng font size của .f3. Giải pháp an toàn nhất là tìm tất cả các nút, xoá đi class cũ và thêm vào f2 bg-dark-green. Bạn tìm các nút bằng cách nào? Search and Replace… bg-green white br-5 ma-10 f3 -&gt; bg-dark-green white br-5 ma-10 f2? Lỡ như có một class nào đó chen vào giữa bg-green white br-5 ma-10 letter-spacing-1 f3 và thế là tèn tén ten.</p>
<p>Nếu dự án của bạn sử dụng React, Vue, hay các thư viện hỗ trợ (web) component khác, việc thay đổi này không thành vấn đề. Còn với thuần HTML thì…coi bộ cực đó. Bạn có thể đặt tên cho UI component bằng data-, nhưng như vậy markup sẽ bị rối và ở phía người dùng, các thuộc tính này hoàn toàn không được dùng đến.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">data-ui-name</span>=<span class="string">"button-big-green"</span> <span class="attr">class</span>=<span class="string">"b1 b--green bg-green white br-5 ma-10 f3 ttu fw-400 padding-10"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"bg-dark o4 white padding-x-12 fw-600 br-left-5"</span>&gt;</span>$9.99<span class="tag">&lt;/<span class="name">span</span>&gt;</span> Purchase</span><br><span class="line"><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="Nghi-ngo-tu-cong-dong"><a href="#Nghi-ngo-tu-cong-dong" class="headerlink" title="Nghi ngờ từ cộng đồng"></a>Nghi ngờ từ cộng đồng</h3><p>Thành thật mà nói, atomic CSS rất không tự nhiên khi tiếp xúc lần đầu tiên. Chúng ta đã quá quen với cách viết CSS truyền thống/ BEM, và khi nhìn thấy một đống class đi chung với những cái tên xa lạ như ma, px, hay ttu, nghi ngờ là phản ứng rất dễ hiểu.</p>
<blockquote>
<p><strong>Vậy có khác gì inline style?</strong></p>
</blockquote>
<p>Nhìn sơ qua thì đúng là giống như inline style vậy, và ai cũng biết inline style là bad practice. Nhưng atomic classes khác hoàn toàn và mạnh mẽ hơn inline style nhiều. Atomic classes cho phép bạn viết media queries, @support, pseudo selectors hay sử dụng animation, những điều mà inline style không làm được. Và vì atomic CSS được lưu trong tập tin CSS, trình duyệt có thể lưu vào bộ nhớ đệm, không giống như inline style.</p>
<blockquote>
<p><strong>Tên class thấy gớm</strong></p>
</blockquote>
<p>Kiểu viết tắt ma (margin all), px (padding x), ph (padding horizontal) hay bg rất phổ biến trong cộng đồng atomic CSS. Ban đầu bạn có thể thấy khó hiểu và tốn thời gian để học, nhưng sau một thời gian chúng sẽ trở nên tự nhiên.</p>
<p>Ngoài ra còn một số ý kiến phản đối atomic CSS nữa mà nếu muốn, bạn có thể đọc bài viết <a href="https://medium.com/simple-human/the-problem-with-atomic-css-d0c09c7aa38e" target="_blank" rel="noopener">The Problem with Atomic CSS</a> rồi tự đưa ra nhận xét. Spoiler alert: không phải tất cả luận điểm trong bài đều hợp lý.</p>
<h2 id="Tich-hop-vao-du-an"><a href="#Tich-hop-vao-du-an" class="headerlink" title="Tích hợp vào dự án"></a>Tích hợp vào dự án</h2><p>Nếu bạn đọc đến đây và không cảm thấy atomic CSS là một ý tưởng dị hợm thì bài viết này coi như đã thành công. Để dùng atomic CSS trong dự án, bạn có thể chọn cách dùng các thư viện có sẵn, hoặc tự xây dựng thư viện riêng.</p>
<h3 id="Dung-hang-an-san"><a href="#Dung-hang-an-san" class="headerlink" title="Dùng hàng ăn sẵn"></a>Dùng hàng ăn sẵn</h3><p>Cách này phù hợp với những dự án mới hoặc bạn muốn thử nghiệm với atomic CSS. Hiện tại thì hai thư viện phổ biến nhất là <a href="http://tachyons.io/" target="_blank" rel="noopener">Tachyons</a> và <a href="http://tailwindcss.com/" target="_blank" rel="noopener">Tailwind</a>. Tachyons có lượng người dùng đông đảo vì xuất hiện trước, nhưng Tailwind lại mạnh mẽ hơn vì cho phép bạn thay đổi màu sắc, kích thước, v.v… hoàn toàn theo ý muốn. Không thì bạn có thể dùng hệ thống thiết kế của <a href="https://stackoverflow.design/product/guidelines/using-stacks#goals" target="_blank" rel="noopener">StackOverflow</a> hay <a href="https://design.herokai.com/purple3" target="_blank" rel="noopener">Heroku</a> cũng được.</p>
<p>Sự thật là các atomic classes quá nhỏ nên chúng gần như giống hệt nhau ở tất cả framework, có khác chăng chỉ là tên gọi mà thôi.</p>
<h3 id="Tu-trong"><a href="#Tu-trong" class="headerlink" title="Tự trồng"></a>Tự trồng</h3><p>Trong một dự án đang chạy, nếu muốn áp dụng atomic CSS thì không gì tốt hơn là tự trồng lấy một framework. Các atomic classes rất nhỏ và đơn giản nên hoàn toàn không có gì khó để tự viết cả. Bạn có thể từ từ bóc tách các thuộc tính của các class cũ và chuyển chúng thành atomic classes. Dự án của bạn có thể sắp xếp các tập tin (S)CSS như thế này.</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">styles/utils/</span><br><span class="line">├── _animation<span class="selector-class">.scss</span></span><br><span class="line">├── _background<span class="selector-class">.scss</span></span><br><span class="line">├── _border<span class="selector-class">.scss</span></span><br><span class="line">├── _box-shadow<span class="selector-class">.scss</span></span><br><span class="line">├── _color<span class="selector-class">.scss</span></span><br><span class="line">├── _cursor<span class="selector-class">.scss</span></span><br><span class="line">├── _display<span class="selector-class">.scss</span></span><br><span class="line">├── _flex<span class="selector-class">.scss</span></span><br><span class="line">├── _font-size<span class="selector-class">.scss</span></span><br><span class="line">├── _font-weight<span class="selector-class">.scss</span></span><br><span class="line">├── _height<span class="selector-class">.scss</span></span><br><span class="line">├── _letter-spacing<span class="selector-class">.scss</span></span><br><span class="line">├── _line-<span class="attribute">height</span><span class="selector-class">.scss</span></span><br><span class="line">├── _list<span class="selector-class">.scss</span></span><br><span class="line">├── _margin<span class="selector-class">.scss</span></span><br><span class="line">├── _max-<span class="attribute">width</span><span class="selector-class">.scss</span></span><br><span class="line">├── _padding<span class="selector-class">.scss</span></span><br><span class="line">├── _ratio<span class="selector-class">.scss</span></span><br><span class="line">├── _text-align<span class="selector-class">.scss</span></span><br><span class="line">└── _width<span class="selector-class">.scss</span></span><br></pre></td></tr></table></figure>
<p>Về việc đặt tên, bạn có thể chọn kiểu viết tắt px, ma hay ttu như trong Tachyons, hoặc kiểu đầy đủ padding-x, margin-all, text-transform-uppercase. Cái này tuỳ thuộc vào sở thích của từng team.</p>
<p>Ngoài ra, việc viết lặp đi lặp lại nhóm class có thể gây nhàm chán, do đó bạn đừng quên tận dụng các công cụ tiền xử lý CSS như SASS, LESS, hay Stylus để cuộc sống dễ thở hơn. Chẳng hạn như đoạn code dưới đây để tạo ra các class liên quan đến height:</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$list</span>: <span class="number">28</span> <span class="number">96</span> <span class="number">128</span> <span class="number">640</span>;</span><br><span class="line"></span><br><span class="line">@<span class="keyword">each</span> <span class="variable">$value</span> in <span class="variable">$list</span> &#123;</span><br><span class="line">  <span class="selector-class">.h-</span>#&#123;<span class="variable">$value</span>&#125; &#123;</span><br><span class="line">    <span class="attribute">height</span>: #&#123;<span class="variable">$value</span>&#125;px;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Khi cần thêm một giá trị mới, bạn chỉ cần bỏ nó vào $list. Bạn cũng có thể dùng mixin để tạo ra các class responsive:</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">include</span> media(extra-large) &#123;</span><br><span class="line">  <span class="variable">$list</span>: <span class="number">28</span> <span class="number">96</span> <span class="number">128</span> <span class="number">640</span>;</span><br><span class="line"></span><br><span class="line">  @<span class="keyword">each</span> <span class="variable">$value</span> in <span class="variable">$list</span> &#123;</span><br><span class="line">    <span class="selector-class">.h-</span>#&#123;<span class="variable">$value</span>&#125;-xl &#123;</span><br><span class="line">      <span class="attribute">height</span>: #&#123;<span class="variable">$value</span>&#125;px;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="Ket"><a href="#Ket" class="headerlink" title="Kết"></a>Kết</h2><p>Nếu nhóm của bạn đang dùng BEM hay các phương pháp phát triển CSS khác và hài lòng với chúng, bạn có thể không cần atomic CSS. Atomic CSS không phải sinh ra là để triệt tiêu BEM, mà bổ sung và giúp bạn làm việc với CSS một cách hiệu quả hơn.</p>
<p>Cuối cùng, hãy xem video này và quyết định có nên xài atomic CSS không nhé ;)</p>
<div class="video-container"><iframe src="//www.youtube.com/embed/16W7c0mb-rE" frameborder="0" allowfullscreen></iframe></div>
<span>Source: </span><a href="https://ehkoo.com/bai-viet/introduction-to-functional-utility-first-atomic-css" target="_blank" title="https://ehkoo.com/bai-viet/introduction-to-functional-utility-first-atomic-css" class="post-from">https://ehkoo.com/bai-viet/introduction-to-functional-utility-first-atomic-css</a></div></div></article></div></section><div class="wrap"><footer><div class="paginator"><a href="/2019/01/Mot-mo-hinh-su-dung-Git-branches-hieu-qua.html" class="prev">NEXT</a><a href="/2019/01/Cach-Javascript-hoat-dong-P19-Ben-trong-custom-element-thu-thuat-xay-dung-component-toi-uu.html" class="next">PREV</a></div><div class="copyright"><p>© 2017 - 2019 <a href="http://nthung2112.github.io">Hung Tan Nguyen</a>, unless otherwise noted.</p></div></footer></div><script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-41935289-1",'auto');ga('send','pageview');</script><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script><script src="/js/zoom.js"></script><script src="/js/insight.js"></script></body></html>