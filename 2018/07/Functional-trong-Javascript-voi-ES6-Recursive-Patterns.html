<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title> Functional trong Javascript với ES6 Recursive Patterns · Learn and Share</title><meta name="description" content="Functional trong Javascript với ES6 Recursive Patterns - Hung Tan Nguyen"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#FB4D42"><meta name="google-site-verification" content="rk-Nc1c8xi1CdZ0ZQIVV-ifsndGrHanIuSHI-yTHZYE"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="/css/zoom.css"><meta property="og:title" content="Functional trong Javascript với ES6 Recursive Patterns"><meta property="og:image" content="https://cdn-images-1.medium.com/max/800/1*7ZuOMhkxl0XbmTIKDu7Kxg.jpeg"><meta property="og:description" content="What’s the deal here?Functional programming has been on the rise and is a topic that is very exciting to me. It allows me to write terse, declarative code that is easy to test and reason about. What is functional programming? I’ll defer that answer to someone with more knowledge on the subject, Eric Elliot:

Functional programming (often abbreviated FP) is the process of building software by composing pure functions, avoiding shared state, mutable data,and side-effects. Functional programming is declarative rather than imperative, and application state flows through pure functions. Contrast with object oriented programming, where application state is usually shared and colocated with methods in objects."></head><body><div class="wrap"><div class="header"><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nthung2112" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item search-form-input"><div class="search-icon"><div class="search-icon__circle"></div><div class="search-icon__rectangle"></div></div></li></ul><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" placeholder="Type something..." class="ins-search-input"><span class="ins-close ins-selectable"><div class="close-icon"><div class="close-icon__x"></div><div class="close-icon__y"></div></div></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>var rootUrl = "/";
var contentUrl = '/content.json';
(function (window) {
  var INSIGHT_CONFIG = {
  TRANSLATION: {
      POSTS:'Posts',
      PAGES: 'Pages',
      CATEGORIES: 'Categories',
      TAGS: 'Tags',
      UNTITLED: '(Untitled)'
    },
    ROOT_URL: rootUrl,
    CONTENT_URL: contentUrl,
  };
  window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);</script></div></div><section class="container"><div class="post"><article class="post-block"><div class="wrap"><h1 class="post-title">Functional trong Javascript với ES6 Recursive Patterns</h1><h2 class="post-subtitle"></h2><header class="post-info">Jul 24, 2018<div class="tags"><a href="/tags/javascript" class="tag-link">#javascript</a><a href="/tags/es6" class="tag-link">#es6</a></div><div class="fb-ir-time"><time dateTime="2018-07-24T05:28:00.000Z" class="op-modified"></time><time dateTime="2018-07-24T05:28:00.000Z" class="op-published"></time></div></header></div><div class="post-banner"><img src="https://cdn-images-1.medium.com/max/800/1*7ZuOMhkxl0XbmTIKDu7Kxg.jpeg"></div><div class="wrap"><div class="post-content"><h3 id="What’s-the-deal-here"><a href="#What’s-the-deal-here" class="headerlink" title="What’s the deal here?"></a>What’s the deal here?</h3><p>Functional programming has been on the rise and is a topic that is very exciting to me. It allows me to write terse, declarative code that is easy to test and reason about. What is functional programming? I’ll defer that answer to someone with more knowledge on the subject, <a href="https://medium.com/@_ericelliott" target="_blank" rel="noopener">Eric Elliot</a>:</p>
<blockquote>
<p><strong>Functional programming</strong> (often abbreviated FP) is the process of building software by composing <strong>pure functions</strong>, avoiding <strong>shared state,</strong> <strong>mutable data</strong>,and <strong>side-effects</strong>. Functional programming is <strong>declarative</strong> rather than <strong>imperative</strong>, and application state flows through pure functions. Contrast with object oriented programming, where application state is usually shared and colocated with methods in objects.</p>
</blockquote>
<a id="more"></a>
<p>ES6 brings many features that allow us to easily write pure functions, rest/spread being one of the most powerful. Using <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/rest_parameters" target="_blank" rel="noopener">rest params</a>, we’re able to “loop without loops” with <a href="https://en.wikipedia.org/wiki/Recursion_%28computer_science%29" target="_blank" rel="noopener">recursion</a>. In this article, we’re going to rewrite many commonly used JavaScript methods/functions that allow for functional patterns.</p>
<h3 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h3><p>The following functions are for demonstration and learning purposes. Many functions below are tail-recursive and should be optimized further. Fixing tail-recursion is not the subject of this article. ES6 brings tail-call optimization, but must be used in conjunction with <code>&#39;use strict&#39;</code> .</p>
<h3 id="Head"><a href="#Head" class="headerlink" title="Head"></a>Head</h3><p>Return the first item in an array. Is useful when you need to separate the first item from the rest of the array items. To do this, we make use of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment" target="_blank" rel="noopener">destructuring assignment</a>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> head = <span class="function">(<span class="params">[x]</span>) =&gt;</span> x</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">head(array) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h3 id="Tail"><a href="#Tail" class="headerlink" title="Tail"></a>Tail</h3><p>Return all but the first item in an array.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tail = <span class="function">(<span class="params">[, ...xs]</span>) =&gt;</span> xs</span><br></pre></td></tr></table></figure>
<p>Which is essentially the same as writing:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> tail = <span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> xs</span><br></pre></td></tr></table></figure>
<p>Since we don’t need to use <code>x</code> in the returned output, we can drop it, but keep the comma to get the rest of the items in the array.</p>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">tail(array) <span class="comment">// [2,3,4,5]</span></span><br></pre></td></tr></table></figure>
<h3 id="Def"><a href="#Def" class="headerlink" title="Def"></a>Def</h3><p>Return if argument supplied is defined.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> def = <span class="function"><span class="params">x</span> =&gt;</span> <span class="keyword">typeof</span> x !== <span class="string">'undefined'</span></span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> defined = <span class="string">'this is defined'</span></span><br><span class="line">def(defined) <span class="comment">// true</span></span><br><span class="line">def(doesntExist) <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h3 id="Undef"><a href="#Undef" class="headerlink" title="Undef"></a>Undef</h3><p>Return if argument supplied is undefined.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> undef = <span class="function"><span class="params">x</span> =&gt;</span> !def(x)</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> defined = <span class="string">'this is defined'</span></span><br><span class="line">undef(defined) <span class="comment">// false</span></span><br><span class="line">undef(doesntExist) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="Copy"><a href="#Copy" class="headerlink" title="Copy"></a>Copy</h3><p>Returns a copy of an array without using <code>Array.slice()</code>. Makes use of <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_operator" target="_blank" rel="noopener">spread</a>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> copy = <span class="function"><span class="params">array</span> =&gt;</span> [...array]</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> copied = copy(array)</span><br><span class="line">copied.push(<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">array <span class="comment">// [1,2,3,4,5]</span></span><br><span class="line">copied <span class="comment">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>
<h3 id="Length"><a href="#Length" class="headerlink" title="Length"></a>Length</h3><p>Return the length of an array. This is a very simple form of looping through an array with recursion, even though the values of the array don’t matter in this case (increments up starting at 1 for every item in array). We include the <strong>len</strong> param to avoid <a href="https://en.wikipedia.org/wiki/Tail_call" target="_blank" rel="noopener">tail recursion</a>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> length = <span class="function">(<span class="params">[x, ...xs], len = <span class="number">0</span></span>) =&gt;</span> def(x) ? length(xs, len + <span class="number">1</span>) : len</span><br></pre></td></tr></table></figure>
<p>If we don’t care about tail recursion, we can write it as:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> length = <span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> def(x) ? <span class="number">1</span> + length(xs) : <span class="number">0</span></span><br></pre></td></tr></table></figure>
<p>This would add a stack frame for each item in the array, whereas the version that avoids tail recursion, replaces a single stack frame. If the array passed in is large enough, it will throw “Maximum call stack size exceeded”.</p>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">length(array) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<h3 id="Reverse"><a href="#Reverse" class="headerlink" title="Reverse"></a>Reverse</h3><p>Return a reversed array.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reverse = <span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> def(x) ? [...reverse(xs), x] : []</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">reverse(array) <span class="comment">// [5,4,3,2,1]</span></span><br></pre></td></tr></table></figure>
<p><code>Array.reverse()</code> is okay, but it modifies the value in place which is a side-effect. Consider the following:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newArray = array.reverse() <span class="comment">// [5,4,3,2,1]</span></span><br><span class="line">array <span class="comment">// [5,4,3,2,1]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// using the reverse method we just created</span></span><br><span class="line"><span class="keyword">const</span> array2 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> newArray2 = reverse(array2) <span class="comment">// [5,4,3,2,1]</span></span><br><span class="line">array2 <span class="comment">// [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure>
<h3 id="First"><a href="#First" class="headerlink" title="First"></a>First</h3><p>Returns a new array that contains the first n items of the given array.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> first = <span class="function">(<span class="params">[x, ...xs], n = <span class="number">1</span></span>) =&gt;</span> def(x) &amp;&amp; n ? [x, ...first(xs, n - <span class="number">1</span>)] : []</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">first(array, <span class="number">3</span>) <span class="comment">// [1,2,3]</span></span><br></pre></td></tr></table></figure>
<h3 id="Last"><a href="#Last" class="headerlink" title="Last"></a>Last</h3><p>Returns a new array that contains the last n items of the given array.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> last = <span class="function">(<span class="params">xs, n = <span class="number">1</span></span>) =&gt;</span> reverse(first(reverse(xs), n))</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">last(array, <span class="number">3</span>) <span class="comment">// [3,4,5]</span></span><br></pre></td></tr></table></figure>
<h3 id="Slice"><a href="#Slice" class="headerlink" title="Slice"></a>Slice</h3><p>Returns a new array with value inserted at given index.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> slice = <span class="function">(<span class="params">[x, ...xs], i, y, curr = <span class="number">0</span></span>) =&gt;</span> def(x)</span><br><span class="line">  ? curr === i</span><br><span class="line">    ? [y, x, ...slice(xs, i, y, curr + <span class="number">1</span>)]</span><br><span class="line">    : [x, ...slice(xs, i, y, curr + <span class="number">1</span>)]</span><br><span class="line">  : []</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">slice(array, <span class="number">2</span>, <span class="number">3</span>) <span class="comment">// [1,2,3,4,5]</span></span><br></pre></td></tr></table></figure>
<h3 id="isArray"><a href="#isArray" class="headerlink" title="isArray"></a>isArray</h3><p>Returns if the value supplied is an array. Allows us to write <code>Array.isArray()</code> in a more functional manner.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isArray = <span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">Array</span>.isArray(x)</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">isArray(array) <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<h3 id="Flatten"><a href="#Flatten" class="headerlink" title="Flatten"></a>Flatten</h3><p>Combines nested arrays into a single array.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten = <span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> def(x)</span><br><span class="line">    ? isArray(x) ? [...flatten(x), ...flatten(xs)] : [x, ...flatten(xs)]</span><br><span class="line">    : []</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> array2 = [<span class="number">4</span>,[<span class="number">5</span>,[<span class="number">6</span>]]]</span><br><span class="line">flatten([array1, array2]) <span class="comment">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>
<h3 id="Swap"><a href="#Swap" class="headerlink" title="Swap"></a>Swap</h3><p>Return a new array with 2 items swapped based on their index.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> swap = <span class="function">(<span class="params">a, i, j</span>) =&gt;</span> (</span><br><span class="line">  map(a, (x,y) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(y === i) <span class="keyword">return</span> a[j]</span><br><span class="line">    <span class="keyword">if</span>(y === j) <span class="keyword">return</span> a[i]</span><br><span class="line">    <span class="keyword">return</span> x</span><br><span class="line">  &#125;)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line">swap(array, <span class="number">0</span>, <span class="number">4</span>) <span class="comment">// [5,2,3,4,1]</span></span><br></pre></td></tr></table></figure>
<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>From MDN: “…creates a new array with the results of calling a provided function on every element in this array.”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="function">(<span class="params">[x, ...xs], fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (undef(x)) <span class="keyword">return</span> []</span><br><span class="line">  <span class="keyword">return</span> [fn(x), ...map(xs, fn)]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Which can be simplified as:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> map = <span class="function">(<span class="params">[x, ...xs], fn</span>) =&gt;</span> def(x) ? [fn(x), ...map(xs, fn)] : []</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> double = <span class="function"><span class="params">x</span> =&gt;</span> x * <span class="number">2</span></span><br><span class="line">map([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], double) <span class="comment">// [2,4,6]</span></span><br></pre></td></tr></table></figure>
<h3 id="Filter"><a href="#Filter" class="headerlink" title="Filter"></a>Filter</h3><p>From MDN: “…creates a new array with all elements that pass the test implemented by the provided function.”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filter = <span class="function">(<span class="params">[x, ...xs], fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (undef(x)) <span class="keyword">return</span> []</span><br><span class="line">  <span class="keyword">if</span> (fn(x)) &#123;</span><br><span class="line">    <span class="keyword">return</span> [x, ...filter(xs, fn)]</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [...filter(xs, fn)]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Which can be simplified as:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filter = <span class="function">(<span class="params">[x, ...xs], fn</span>) =&gt;</span> def(x) </span><br><span class="line">    ? fn(x)</span><br><span class="line">        ? [x, ...filter(xs, fn)] : [...filter(xs, fn)]</span><br><span class="line">    : []</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> even = <span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> odd = x = !even(x)</span><br><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">filter(array, even) <span class="comment">// [2,4]</span></span><br><span class="line">filter(array, odd) <span class="comment">// [1,3,5]</span></span><br></pre></td></tr></table></figure>
<h3 id="Reject"><a href="#Reject" class="headerlink" title="Reject"></a>Reject</h3><p>The opposite of filter, returns an array that does not pass the filter function.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reject = <span class="function">(<span class="params">[x, ...xs], fn</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (undef(x)) <span class="keyword">return</span> []</span><br><span class="line">  <span class="keyword">if</span> (!fn(x)) &#123;</span><br><span class="line">    <span class="keyword">return</span> [x, ...reject(xs, fn)]</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> [...reject(xs, fn)]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> even = <span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">reject(array, even) <span class="comment">// [1,3,5]</span></span><br></pre></td></tr></table></figure>
<h3 id="Partition"><a href="#Partition" class="headerlink" title="Partition"></a>Partition</h3><p>Splits an array into two arrays. One whose items pass a filter function and one whose items fail.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> partition = <span class="function">(<span class="params">xs, fn</span>) =&gt;</span> [filter(xs, fn), reject(xs, fn)]</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> even = <span class="function"><span class="params">x</span> =&gt;</span> x % <span class="number">2</span> === <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> array = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">partition(array, even) <span class="comment">// [[0,2,4], [1,3,5]]</span></span><br></pre></td></tr></table></figure>
<h3 id="Reduce"><a href="#Reduce" class="headerlink" title="Reduce"></a>Reduce</h3><p>From MDN: “…applies a function against an accumulator and each element in the array (from left to right) to reduce it to a single value.”</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduce = <span class="function">(<span class="params">[x, ...xs], fn, memo, i</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (undef(x)) <span class="keyword">return</span> memo</span><br><span class="line">  <span class="keyword">return</span> reduce(xs, fn, fn(memo, x, i), i + <span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Which can be simplified as:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduce = <span class="function">(<span class="params">[x, ...xs], fn, memo, i = <span class="number">0</span></span>) =&gt;</span> def(x)</span><br><span class="line">    ? reduce(xs, fn, fn(memo, x, i), i + <span class="number">1</span>) : memo</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = <span class="function">(<span class="params">memo, x</span>) =&gt;</span> memo + x</span><br><span class="line">reduce([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], sum, <span class="number">0</span>) <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> flatten = <span class="function">(<span class="params">memo, x</span>) =&gt;</span> memo.concat(x)</span><br><span class="line">reduce([<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>], flatten, [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]) <span class="comment">// [1,2,3,4,5,6]</span></span><br></pre></td></tr></table></figure>
<h3 id="ReduceRight"><a href="#ReduceRight" class="headerlink" title="ReduceRight"></a>ReduceRight</h3><p>Similar to reduce, but applies the function from right-to-left.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduceRight = <span class="function">(<span class="params">xs, fn, memo</span>) =&gt;</span> reduce(reverse(xs), fn, memo)</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flatten = <span class="function">(<span class="params">memo, x</span>) =&gt;</span> memo.concat(x)</span><br><span class="line"></span><br><span class="line">reduceRight([[<span class="number">0</span>,<span class="number">1</span>], [<span class="number">2</span>,<span class="number">3</span>], [<span class="number">4</span>,<span class="number">5</span>]], flatten, []) <span class="comment">// [4, 5, 2, 3, 0, 1]</span></span><br></pre></td></tr></table></figure>
<h3 id="Partial"><a href="#Partial" class="headerlink" title="Partial"></a>Partial</h3><p>Partially apply a function by filling in any number of its arguments.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> partial = <span class="function">(<span class="params">fn, ...args</span>) =&gt;</span> (...newArgs) =&gt; fn(...args, ...newArgs)</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">x,y</span>) =&gt;</span> x + y</span><br><span class="line"><span class="keyword">const</span> add5to = partial(add, <span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">add5to(<span class="number">10</span>) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>
<h3 id="SpreadArg"><a href="#SpreadArg" class="headerlink" title="SpreadArg"></a>SpreadArg</h3><p>Convert function that takes an array to one that takes multiple arguments. This is useful when partially applying.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> spreadArg = <span class="function">(<span class="params">fn</span>) =&gt;</span> (...args) =&gt; fn(args)</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> def(x) ? <span class="built_in">parseInt</span>(x + add(xs)) : []</span><br><span class="line">add([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]) <span class="comment">// 15</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> spreadAdd = spreadArg(add)</span><br><span class="line">spreadAdd(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>
<p>If you only want to define a single function you can write it as:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = spreadArg(<span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> def(x) ? <span class="built_in">parseInt</span>(x + add(...xs)) : [])</span><br><span class="line">add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>) <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>
<p>In the above, you need to remember to spread the array you are sending into the function recursively, since you are spreading the argument.</p>
<h3 id="ReverseArgs"><a href="#ReverseArgs" class="headerlink" title="ReverseArgs"></a>ReverseArgs</h3><p>Reverse function argument order.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reverseArgs = <span class="function">(<span class="params">fn</span>) =&gt;</span> (...args) =&gt; fn(...reverse(args))</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> divide = <span class="function">(<span class="params">x,y</span>) =&gt;</span> x / y</span><br><span class="line">divide(<span class="number">100</span>,<span class="number">10</span>) <span class="comment">// 10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reverseDivide = reverseArgs(divide)</span><br><span class="line">reverseDivide(<span class="number">100</span>,<span class="number">10</span>) <span class="comment">// 0.1</span></span><br></pre></td></tr></table></figure>
<p>Reversing arguments can be useful when partially applying arguments. Sometimes you want to partially apply arguments at the end of the list, not those at the beginning. Reversing the arguments allows us to do that.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> percentToDec = partial(reverseDivide, <span class="number">100</span>)</span><br><span class="line"></span><br><span class="line">percentToDec(<span class="number">25</span>) <span class="comment">// 0.25</span></span><br></pre></td></tr></table></figure>
<h3 id="Pluck"><a href="#Pluck" class="headerlink" title="Pluck"></a>Pluck</h3><p>Extract property value from array. Useful when combined with the <strong>map</strong> function.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> pluck = <span class="function">(<span class="params">key, object</span>) =&gt;</span> object[key]</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> product = &#123;<span class="attr">price</span>: <span class="number">15</span>&#125;</span><br><span class="line">pluck(<span class="string">'price'</span>, product) <span class="comment">// 15</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getPrices = partial(pluck, <span class="string">'price'</span>)</span><br><span class="line"><span class="keyword">const</span> products = [</span><br><span class="line">  &#123;<span class="attr">price</span>: <span class="number">10</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">price</span>: <span class="number">5</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">price</span>: <span class="number">1</span>&#125;</span><br><span class="line">]</span><br><span class="line">map(products, getPrices) <span class="comment">// [10,5,1]</span></span><br></pre></td></tr></table></figure>
<h3 id="Flow"><a href="#Flow" class="headerlink" title="Flow"></a>Flow</h3><p>Each function consumes the return value of the function that came before.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> flow = <span class="function">(<span class="params">...args</span>) =&gt;</span> init =&gt; reduce(args, (memo, fn) =&gt; fn(memo), init)</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getPrice = partial(pluck, <span class="string">'price'</span>)</span><br><span class="line"><span class="keyword">const</span> discount = <span class="function"><span class="params">x</span> =&gt;</span> x * <span class="number">0.9</span></span><br><span class="line"><span class="keyword">const</span> tax = <span class="function"><span class="params">x</span> =&gt;</span> x + (x * <span class="number">0.075</span>)</span><br><span class="line"><span class="keyword">const</span> getFinalPrice = flow(getPrice, discount, tax)</span><br><span class="line"></span><br><span class="line"><span class="comment">// looks like: tax(discount(getPrice(x)))</span></span><br><span class="line"><span class="comment">// -&gt; get price</span></span><br><span class="line"><span class="comment">// -&gt; apply discount</span></span><br><span class="line"><span class="comment">// -&gt; apply taxes to discounted price</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> products = [</span><br><span class="line">  &#123;<span class="attr">price</span>: <span class="number">10</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">price</span>: <span class="number">5</span>&#125;,</span><br><span class="line">  &#123;<span class="attr">price</span>: <span class="number">1</span>&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">map(products, getFinalPrice) <span class="comment">// [9.675, 4.8375, 0.9675]</span></span><br></pre></td></tr></table></figure>
<h3 id="Compose"><a href="#Compose" class="headerlink" title="Compose"></a>Compose</h3><p>The same as flow, but arguments are applied in the reverse order. Compose matches up more naturally with how functions are written. Using the same data as defined for the <strong>flow</strong> function:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> compose = <span class="function">(<span class="params">...args</span>) =&gt;</span> flow(...reverse(args))</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getFinalPrice = compose(tax, discount, getPrice)</span><br><span class="line"></span><br><span class="line"><span class="comment">// looks like: tax(discount(getPrice(x)))</span></span><br><span class="line"></span><br><span class="line">map(products, getFinalPrice) <span class="comment">// [9.675, 4.8375, 0.9675]</span></span><br></pre></td></tr></table></figure>
<h3 id="Min"><a href="#Min" class="headerlink" title="Min"></a>Min</h3><p>Return the smallest number in an array. Returns <strong>Infinity</strong> if array supplied is empty.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> min = <span class="function">(<span class="params">[x, ...xs], result = <span class="literal">Infinity</span></span>) =&gt;</span> def(x)</span><br><span class="line">    ? x &lt; result</span><br><span class="line">        ? min(xs, x)</span><br><span class="line">        : result</span><br><span class="line">    : result</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">min(array) <span class="comment">// 0</span></span><br></pre></td></tr></table></figure>
<h3 id="Max"><a href="#Max" class="headerlink" title="Max"></a>Max</h3><p>Return the largest number in an array. Returns <strong>-Infinity</strong> if array supplied is empty.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> max = <span class="function">(<span class="params">[x, ...xs], result = -<span class="literal">Infinity</span></span>) =&gt;</span> def(x)</span><br><span class="line">    ? x &gt; result</span><br><span class="line">        ? max(xs, x)</span><br><span class="line">        : max(xs, result)</span><br><span class="line">    : result</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">max(array) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<h3 id="Factorial"><a href="#Factorial" class="headerlink" title="Factorial"></a>Factorial</h3><p>Returns the factorial of a number. Uses an accumulator to allow replacing of stack frames to allow larger factorials to be returned.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> factorial = <span class="function">(<span class="params">x, acum = <span class="number">1</span></span>) =&gt;</span> x ? factorial(x - <span class="number">1</span>, x * acum) : acum</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">factorial(<span class="number">5</span>) <span class="comment">// 120</span></span><br></pre></td></tr></table></figure>
<h3 id="Fibonacci"><a href="#Fibonacci" class="headerlink" title="Fibonacci"></a>Fibonacci</h3><p>Returns the Fibonacci number at the given place.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> fib = <span class="function"><span class="params">x</span> =&gt;</span> x &gt; <span class="number">2</span> ? fib(x - <span class="number">1</span>) + fib(x - <span class="number">2</span>) : <span class="number">1</span></span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fib(<span class="number">15</span>) <span class="comment">// 610</span></span><br></pre></td></tr></table></figure>
<h3 id="Quicksort"><a href="#Quicksort" class="headerlink" title="Quicksort"></a>Quicksort</h3><p>Sort an array from smallest to largest. This is done by re-ordering the array so that it contains two sub-arrays, one with smaller values, the other with larger values. The above steps are recursively applied to each sub-array until there are no arrays left, which is flatten to return a sorted array.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> quicksort = <span class="function">(<span class="params">xs</span>) =&gt;</span> length(xs)</span><br><span class="line">  ? flatten([</span><br><span class="line">    quicksort(filter(tail(xs), x =&gt; x &lt;= head(xs))),</span><br><span class="line">    head(xs),</span><br><span class="line">    quicksort(filter(tail(xs), x =&gt; x &gt; head(xs)))</span><br><span class="line">  ])</span><br><span class="line">  : []</span><br></pre></td></tr></table></figure>
<p>This can also be implemented using <strong>partition</strong>, but requires variable assignment.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> quicksort = <span class="function">(<span class="params">array</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (!length(array)) <span class="keyword">return</span> []</span><br><span class="line">  <span class="keyword">const</span> [less, more] = partition(tail(array), x =&gt; x &lt; head(array))</span><br><span class="line">  <span class="keyword">return</span> flatten([quicksort(less), head(array), quicksort(more)])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array = [<span class="number">8</span>,<span class="number">2</span>,<span class="number">6</span>,<span class="number">4</span>,<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">quicksort(array) <span class="comment">// [1,2,4,6,8]</span></span><br></pre></td></tr></table></figure>
<h3 id="Everything-as-a-Reduction"><a href="#Everything-as-a-Reduction" class="headerlink" title="Everything as a Reduction"></a>Everything as a Reduction</h3><p>Many of the functions above can be converted into reductions, which should increase performance in most, if not all cases. This also shows the flexibility of the <strong>reduce</strong> function.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> reduce = <span class="function">(<span class="params">[x, ...xs], f, memo, i = <span class="number">0</span></span>) =&gt;</span> def(x)</span><br><span class="line">    ? reduce(xs, f, f(memo, x, i), i + <span class="number">1</span>) : memo</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reverse = <span class="function"><span class="params">xs</span> =&gt;</span> reduce(xs, (memo, x) =&gt; [x, ...memo], [])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> length = <span class="function"><span class="params">xs</span> =&gt;</span> reduce(xs, (memo, x) =&gt; memo + <span class="number">1</span>, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> map = <span class="function">(<span class="params">xs, fn</span>) =&gt;</span> reduce(xs, (memo, x) =&gt; [...memo, fn(x)], [])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> filter = <span class="function">(<span class="params">xs, fn</span>) =&gt;</span> reduce(xs, (memo, x) =&gt; fn(x)</span><br><span class="line">    ? [...memo, x] : [...memo], [])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> reject = <span class="function">(<span class="params">xs, fn</span>) =&gt;</span> reduce(xs, (memo, x) =&gt; fn(x)</span><br><span class="line">    ? [...memo] : [...memo, x], [])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> first = <span class="function">(<span class="params">xs, n</span>) =&gt;</span> reduce(xs, (memo, x, i) =&gt; i &lt; n</span><br><span class="line">    ? [...memo, x] : [...memo], [])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> last = <span class="function">(<span class="params">xs, n</span>) =&gt;</span> reduce(xs, (memo, x, i) =&gt; i &gt;= (length(xs) - n)</span><br><span class="line">    ? [...memo, x] : [...memo], [])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> merge = spreadArg(<span class="function"><span class="params">xs</span> =&gt;</span> reduce(xs, (memo, x) =&gt; [...memo, ...x], []))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> flatten = <span class="function"><span class="params">xs</span> =&gt;</span> reduce(xs, (memo, x) =&gt; x</span><br><span class="line">    ? isArray(x) ? [...memo, ...flatten(x)] : [...memo, x] : [], [])</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> add = spreadArg(<span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> reduce(xs, (memo, y) =&gt; memo + y, x))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> divide = spreadArg(<span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> reduce(xs, (memo, y) =&gt; memo / y, x))</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> multiply = spreadArg(<span class="function">(<span class="params">[x, ...xs]</span>) =&gt;</span> reduce(xs, (memo, y) =&gt; memo * y, x))</span><br></pre></td></tr></table></figure>
<p>Example usage:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">reverse([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]) <span class="comment">// [3,2,1]</span></span><br><span class="line">length([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]) <span class="comment">// 3</span></span><br><span class="line">map([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>], double) <span class="comment">// [2,3,4]</span></span><br><span class="line">filter([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], even) <span class="comment">// [2,4]</span></span><br><span class="line">reject([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], even) <span class="comment">// [1,3]</span></span><br><span class="line">first([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], <span class="number">3</span>) <span class="comment">// [1,2,3]</span></span><br><span class="line">last([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>], <span class="number">2</span>) <span class="comment">// [3,4]</span></span><br><span class="line">merge([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]) <span class="comment">// [1,2,3,4,5,6]</span></span><br><span class="line">flatten([<span class="number">1</span>,[<span class="number">2</span>,<span class="number">3</span>,[<span class="number">4</span>,[<span class="number">5</span>,[[<span class="number">6</span>]]]]]]) <span class="comment">// [1,2,3,4,5,6]</span></span><br><span class="line">add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>) <span class="comment">// 15</span></span><br><span class="line">multiply(<span class="number">2</span>,<span class="number">5</span>,<span class="number">10</span>) <span class="comment">// 100</span></span><br><span class="line">divide(<span class="number">100</span>,<span class="number">2</span>,<span class="number">5</span>) <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p><img src="https://cdn-images-1.medium.com/max/800/1*4877k4Hq9dPdtmvg9hnGFA.jpeg" alt=""></p>
<h3 id="Wrapping-Up"><a href="#Wrapping-Up" class="headerlink" title="Wrapping Up"></a>Wrapping Up</h3><p>I hope this article helps shed insight on some of the patterns made available with JavaScript and ES6. Many problems that can be solved with iteration/loops, can also be solved functionally through recursion. I hope this article was also able to show you the flexibility of the reduce function.</p>
<span>Source: </span><a href="https://medium.com/dailyjs/functional-js-with-es6-recursive-patterns-b7d0813ef9e3" target="_blank" title="https://medium.com/dailyjs/functional-js-with-es6-recursive-patterns-b7d0813ef9e3" class="post-from">https://medium.com/dailyjs/functional-js-with-es6-recursive-patterns-b7d0813ef9e3</a></div></div></article></div></section><div class="wrap"><footer><div class="paginator"><a href="/2018/08/Cach-toi-uu-trang-web-cua-ban-voi-nen-Gzip.html" class="prev">NEXT</a><a href="/2018/07/Object-Function-Method-Constructor-in-JavaScript.html" class="next">PREV</a></div><div class="copyright"><p>© 2017 - 2018 <a href="http://nthung2112.github.io">Hung Tan Nguyen</a>, unless otherwise noted.</p></div></footer></div><script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-41935289-1",'auto');ga('send','pageview');</script><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script><script src="/js/zoom.js"></script><script src="/js/insight.js"></script></body></html>