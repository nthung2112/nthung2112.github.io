<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title> Tổng hợp những tính năng ES6 nổi bật · Learn and Share</title><meta name="description" content="Tổng hợp những tính năng ES6 nổi bật - Hung Tan Nguyen"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#FB4D42"><meta name="google-site-verification" content="rk-Nc1c8xi1CdZ0ZQIVV-ifsndGrHanIuSHI-yTHZYE"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="/css/zoom.css"><meta property="og:title" content="Tổng hợp những tính năng ES6 nổi bật"><meta property="og:image" content="https://res.cloudinary.com/duqeezi8j/image/upload/v1509504402/PTLHvdFMQuW7VhAXQc0G_es6_what_to_use_and_what_not_to.png_rgvxgq.jpg"><meta property="og:description" content="Việc hầu hết những tính năng hay ho hấp dẫn của ES6 đều đã được các trình duyệt hỗ trợ quả là tin vui cho giới lập trình web. Nhờ nó mà nhà phát triển có thể xây dựng ứng dụng trực tiếp bằng ES6, không cần phải thông qua các công cụ chuyển đổi như Babel hay Bublé nữa, giúp ứng dụng trở nên gọn nhẹ hơn, giảm thiểu kích thước tập tin khi chuyển đến người sử dụng."></head><body><div class="wrap"><div class="header"><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nthung2112" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item search-form-input"><div class="search-icon"><div class="search-icon__circle"></div><div class="search-icon__rectangle"></div></div></li></ul><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" placeholder="Type something..." class="ins-search-input"><span class="ins-close ins-selectable"><div class="close-icon"><div class="close-icon__x"></div><div class="close-icon__y"></div></div></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>var rootUrl = "/";
var contentUrl = '/content.json';
(function (window) {
  var INSIGHT_CONFIG = {
  TRANSLATION: {
      POSTS:'Posts',
      PAGES: 'Pages',
      CATEGORIES: 'Categories',
      TAGS: 'Tags',
      UNTITLED: '(Untitled)'
    },
    ROOT_URL: rootUrl,
    CONTENT_URL: contentUrl,
  };
  window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);</script></div></div><section class="container"><div class="post"><article class="post-block"><div class="wrap"><h1 class="post-title">Tổng hợp những tính năng ES6 nổi bật</h1><h2 class="post-subtitle"></h2><header class="post-info">Jul 8, 2018<div class="tags"><a href="/tags/javascript" class="tag-link">#javascript</a></div><div class="fb-ir-time"><time datetime="2018-07-08T01:08:00.000Z" class="op-modified"></time><time datetime="2018-07-08T01:08:00.000Z" class="op-published"></time></div></header></div><div class="post-banner"><img src="https://res.cloudinary.com/duqeezi8j/image/upload/v1509504402/PTLHvdFMQuW7VhAXQc0G_es6_what_to_use_and_what_not_to.png_rgvxgq.jpg"></div><div class="wrap"><div class="post-content"><p>Việc hầu hết những tính năng hay ho hấp dẫn của ES6 đều đã được <a href="https://kangax.github.io/compat-table/es6/" target="_blank" rel="noopener">các trình duyệt hỗ trợ</a> quả là tin vui cho giới lập trình web. Nhờ nó mà nhà phát triển có thể xây dựng ứng dụng trực tiếp bằng ES6, không cần phải thông qua các công cụ chuyển đổi như <a href="http://babeljs.io/" target="_blank" rel="noopener">Babel</a> hay <a href="https://buble.surge.sh/guide/" target="_blank" rel="noopener">Bublé</a> nữa, giúp ứng dụng trở nên gọn nhẹ hơn, giảm thiểu kích thước tập tin khi chuyển đến người sử dụng.</p>
<a id="more"></a>
<h3 id="Noi-dung"><a href="#Noi-dung" class="headerlink" title="Nội dung"></a>Nội dung</h3><ol>
<li>let và const</li>
<li>Hàm mũi tên (arrow functions)</li>
<li>Chuỗi bản mẫu (template strings)</li>
<li>Object chân phương (object literals)</li>
<li>Phân rã biến (destructuring)</li>
<li>Rest và Spread</li>
<li>Giá trị mặc định cho tham số</li>
<li>Lớp (class)</li>
<li>Promise</li>
</ol>
<h3 id="1-let-va-const"><a href="#1-let-va-const" class="headerlink" title="1. let và const"></a>1. let và const</h3><p>Ngày xa xưa ấy, bạn khai báo biến trong JavaScript bằng var, giống như ví dụ dưới đây.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printFoo</span>(<span class="params">shouldDo</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (shouldDo) &#123;</span><br><span class="line">    <span class="keyword">var</span> foo = <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> foo</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(printFoo(<span class="literal">false</span>)) <span class="comment">// undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(printFoo(<span class="literal">true</span>)) <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>
<p>Biến được khai báo với var sẽ có tầm vực bên trong hàm gần nhất (function scope), và sẽ được đẩy lên đầu của tầm vực (hoisting). Đó là lý do tại sao foo lại có giá trị undefined trong dòng console.log đầu tiên.</p>
<p>ES6 giới thiệu let và const như hai cách khai báo biến mới, hỗ trợ tầm vực theo khối (block scope) và không thực hiện hoisting.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = <span class="number">1</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printFoo</span>(<span class="params">shouldDo</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (shouldDo) &#123;</span><br><span class="line">    <span class="keyword">let</span> foo = <span class="number">2</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'Value of foo in scope'</span>, foo) <span class="comment">// 2</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'foo is out of block scope'</span>, foo) <span class="comment">// 1</span></span><br><span class="line">  <span class="keyword">return</span> foo</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(printFoo(<span class="literal">false</span>)) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(printFoo(<span class="literal">true</span>)) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>Điểm khác biệt giữa let và const là với const, bạn không thể gán giá trị mới cho biến sau khi khai báo, trong khi điều này lại có thể với let.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> foo = <span class="number">2</span></span><br><span class="line">foo = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(foo) <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> baz = <span class="number">2</span></span><br><span class="line">baz = <span class="number">3</span> <span class="comment">// Error: Assignment to constant variable.</span></span><br></pre></td></tr></table></figure>
<p>const mang ý nghĩa “constant” chứ không phải “immutability”. Nghĩa là với các biến là object hay array, bạn vẫn có thể thay đổi giá trị bên trong của chúng.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">foo</span>: <span class="number">2</span> &#125;</span><br><span class="line">obj.foo = <span class="number">5</span></span><br><span class="line">obj.bar = <span class="number">3</span></span><br><span class="line"><span class="built_in">console</span>.log(obj) <span class="comment">// &#123; foo: 5, bar: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>]</span><br><span class="line">arr.push(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">console</span>.log(arr) <span class="comment">// [1, 2]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Tuy vậy bạn không thể gán một đối tượng khác cho obj/arr</span></span><br><span class="line">obj = &#123; <span class="attr">baz</span>: <span class="number">4</span> &#125; <span class="comment">// Error: Assignment to constant variable.</span></span><br><span class="line">arr = [] <span class="comment">// Error: Assignment to constant variable.</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Tính tương thích:</strong> <a href="http://caniuse.com/#feat=let,const" target="_blank" rel="noopener">Được hỗ trợ</a> trên tất cả trình duyệt, kể cả IE11.<br><strong>Lời khuyên:</strong> Dùng const cho tất cả khai báo biến vì nó sẽ giúp bạn hạn chế trường hợp “vô tình” thay đổi giá trị của biến. Chỉ dùng let trong trường hợp bất khả kháng, và tránh xa var.</p>
</blockquote>
<h3 id="2-Ham-mui-ten"><a href="#2-Ham-mui-ten" class="headerlink" title="2. Hàm mũi tên"></a>2. Hàm mũi tên</h3><p>Hàm mũi tên – (fat) arrow functions – là một kiểu cú pháp rút gọn cho khai báo hàm trong JavaScript. Trước ES6, bạn khai báo một hàm trong JavaScript với từ khóa function.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Hàm add() ở trên là syntactic sugar cho...</span></span><br><span class="line"><span class="keyword">var</span> add = <span class="function"><span class="keyword">function</span>(<span class="params">x, y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>“Syntactic sugar” là cú pháp làm cho ngôn ngữ trở nên dễ đọc và dễ hiểu hơn, theo kiểu nó làm cho ngôn ngữ “ngọt ngào hơn” (sweeter) với lập trình viên.</p>
</blockquote>
<p>Với hàm mũi tên trong ES6, bạn có thể viết lại thành:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">x, y</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">return</span> x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Bạn cũng có thể viết dưới dạng biểu thức (expression), hàm mũi</span></span><br><span class="line"><span class="comment">// tên sẽ tự động trả giá trị về (auto-return).</span></span><br><span class="line"><span class="keyword">const</span> add = <span class="function">(<span class="params">x, y</span>) =&gt;</span> x + y</span><br></pre></td></tr></table></figure>
<p>Hàm mũi tên cũng hữu dụng để giải quyết vấn đề muôn thuở trong JavaScript: “which this is this?” – khái niệm con trỏ this. Với ES5, bạn hay gặp trường hợp giống như thế này:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">'use strict'</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.count = <span class="number">0</span></span><br><span class="line">  setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.count++)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> App()</span><br></pre></td></tr></table></figure>
<p>Trước ES6, mỗi khai báo hàm đều có một giá trị this tách biệt. Điều này làm cho đoạn code ở trên không hoạt động, vì this.count bên trong hàm của setInterval mang giá trị undefined. Cách giải quyết thông thường là đặt một biến self, that hay _this để giữ reference, hoặc sử dụng Function.prototype.bind.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.count = <span class="number">0</span></span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span></span><br><span class="line">  setInterval(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(self.count++)</span><br><span class="line">  &#125;, <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hoặc</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">counter</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.count++)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  setInterval(counter.bind(<span class="keyword">this</span>), <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Với hàm mũi tên trong ES6, giá trị của this chính là this trong tầm vực gần nhất với nó (lexical this). Do đó chúng ta không cần phải khai báo biến tạm hay dùng .bind nữa.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">App</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">  setInterval(<span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="keyword">this</span>.count++), <span class="number">1000</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Hàm mũi tên cũng rất hữu ích khi thao tác trên mảng và tiến hành chuyển đổi dữ liệu, giúp mã nguồn dễ đọc và rõ ràng hơn.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> subtotal = products.filter(<span class="function"><span class="params">product</span> =&gt;</span> product.price &gt; <span class="number">500</span>).reduce(<span class="function">(<span class="params">acc, product</span>) =&gt;</span> acc + product.price, <span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Tính tương thích:</strong> Trừ IE11, tất cả các trình duyệt còn lại đều hỗ trợ.<br><strong>Lời khuyên:</strong> Nếu có dùng đến this thì hàm mũi tên rất hữu dụng. Trường hợp không dùng thì…cũng hữu dụng luôn vì mã nguồn gọn gàng dễ đọc hơn. Với những trường hợp bạn muốn bao đóng giá trị của this chỉ gói gọn trong hàm của nó, dùng function.</p>
</blockquote>
<h3 id="3-Chuoi-ban-mau"><a href="#3-Chuoi-ban-mau" class="headerlink" title="3. Chuỗi bản mẫu"></a>3. Chuỗi bản mẫu</h3><p>Chuỗi bản mẫu (template strings) là chuỗi chân phương (string literals) nhưng cho phép đính kèm biểu thức. Nó cũng cho phép khai báo chuỗi trên nhiều dòng. Để sử dụng, bạn dùng ký tự backtick ` (dấu huyền). Ví dụ như là:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> name = <span class="string">'John'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> greetings = <span class="string">`Hello <span class="subst">$&#123;name&#125;</span>,</span></span><br><span class="line"><span class="string">The result of 1 + 1 is <span class="subst">$&#123;<span class="number">1</span> + <span class="number">1</span>&#125;</span>, and the time is now <span class="subst">$&#123;<span class="built_in">Date</span>.now()&#125;</span>.`</span></span><br></pre></td></tr></table></figure>
<p>Vì chuỗi bản mẫu cũng chỉ là chuỗi nên bạn có thể gọi đến những phương thức của String.prototype.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">;<span class="string">`Hello World`</span>.substr(<span class="number">0</span>, <span class="number">5</span>).toUpperCase()</span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Tính tương thích:</strong> Trừ IE11, tất cả các trình duyệt còn lại đều hỗ trợ.<br><strong>Lời khuyên:</strong> Dùng chuỗi bản mẫu khi bạn cần gắn biểu thức hay chuỗi có nội dung ở nhiều dòng. Còn lại thì vẫn dùng chuỗi bình thường với ‘ hay “.</p>
</blockquote>
<h3 id="4-Object-chan-phuong-object-literals"><a href="#4-Object-chan-phuong-object-literals" class="headerlink" title="4. Object chân phương (object literals)"></a>4. Object chân phương (object literals)</h3><p>Object chân phương (object literals) chỉ đơn giản là khai báo một object trong JavaScript như bạn đã làm bao năm nay.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> birthYear = <span class="number">2000</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'John'</span>,</span><br><span class="line">  birthYear: birthYear,</span><br><span class="line">  getAge: <span class="function"><span class="keyword">function</span>(<span class="params">currentYear</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> currentYear - obj.birthYear</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>ES6 nâng cấp object chân phương, cho phép bạn khai báo tắt thuộc tính của object với biến cùng tên, và khai báo phương thức cho object.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> birthYear = <span class="number">2000</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  name: <span class="string">'John'</span>,</span><br><span class="line">  birthYear, <span class="comment">// khai báo tắt birthYear: birthYear</span></span><br><span class="line">  getAge(currentYear) &#123;</span><br><span class="line">    <span class="comment">// `this` được gán trực tiếp vào bản thân object</span></span><br><span class="line">    <span class="keyword">return</span> currentYear - <span class="keyword">this</span>.birthYear</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Một lưu ý với this là khi bạn dùng hàm mũi tên, this sẽ được lấy từ this trong tầm vực gần với nó nhất, chứ không trỏ đến đối tượng hiện tại. Do đó…</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  getAge: <span class="function"><span class="params">currentYear</span> =&gt;</span> currentYear - <span class="keyword">this</span>.birthYear</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>…sẽ không chạy như mong muốn, vì có thể this.birthYear mang giá trị undefined. Để sử dụng hàm mũi tên bạn phải viết lại như trước ES6.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  getAge: <span class="function"><span class="params">currentYear</span> =&gt;</span> currentYear - obj.birthYear</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Ngoài ra từ ES6 bạn cũng có thể khai báo thuộc tính cho object một cách linh động bằng cách sử dụng cú pháp [].</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> attr = <span class="string">'foo'</span></span><br><span class="line"><span class="keyword">const</span> year = <span class="number">2017</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123; [attr]: <span class="number">1</span>, [<span class="string">'now'</span> + year]: <span class="string">'wow'</span> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(obj) <span class="comment">// &#123; foo: 1, now2017: 'wow' &#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Tính tương thích:</strong> Được hỗ trợ bởi tất cả trình duyệt<br><strong>Lời khuyên:</strong> Tính năng khai báo tắt thuộc tính của object cực ký hữu dụng =&gt; nên dùng. Nếu không bận tâm đến this thì bạn có thể dùng hàm mũi tên khi khai báo phương thức cho object để mã nguồn gọn gàng sạch đẹp hơn.</p>
</blockquote>
<h3 id="5-Phan-ra-bien"><a href="#5-Phan-ra-bien" class="headerlink" title="5. Phân rã biến"></a>5. Phân rã biến</h3><p>Phân rã biến – destructuring – theo mình là tính năng tiện dụng nhất của ES6. Tính năng này giúp bạn tách biến từ thuộc tính của đối tượng hay phần tử trong các đối tượng có thể duyệt với for, như mảng hoặc chuỗi. Chẳng hạn như:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">name</span>: <span class="string">'John'</span>, <span class="attr">age</span>: <span class="number">21</span> &#125;</span><br><span class="line"><span class="keyword">const</span> &#123; name &#125; = user</span><br><span class="line"><span class="built_in">console</span>.log(name) <span class="comment">// 'John'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> [first, second] = arr</span><br><span class="line"><span class="built_in">console</span>.log(first, second) <span class="comment">// 1, 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">'Hello'</span></span><br><span class="line"><span class="keyword">const</span> [first, second] = str</span><br><span class="line"><span class="built_in">console</span>.log(first, second) <span class="comment">// 'H', 'e'</span></span><br></pre></td></tr></table></figure>
<p>Bạn cũng có thể phân rã các thuộc tính lồng nhau.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> userList = [</span><br><span class="line">  &#123;</span><br><span class="line">    name: <span class="string">'John'</span>,</span><br><span class="line">    age: <span class="number">21</span>,</span><br><span class="line">    products: [&#123; <span class="attr">name</span>: <span class="string">'Creamy Crustacean Omelette'</span>, <span class="attr">price</span>: <span class="number">1200</span> &#125;, &#123; <span class="attr">name</span>: <span class="string">'Galdin Gratin'</span>, <span class="attr">price</span>: <span class="number">2300</span> &#125;]</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> [&#123; <span class="attr">products</span>: [&#123; price &#125;] &#125;] = userList</span><br><span class="line"><span class="built_in">console</span>.log(price) <span class="comment">// 1200</span></span><br></pre></td></tr></table></figure>
<p>Với mảng hay chuỗi, bạn có thể bỏ qua phần tử không mong muốn khi phân rã.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="keyword">const</span> [first, , third] = arr</span><br><span class="line"><span class="built_in">console</span>.log(first, third) <span class="comment">// 1, 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> str = <span class="string">'Hello'</span></span><br><span class="line"><span class="keyword">const</span> [fst, , , , lst] = str</span><br><span class="line"><span class="built_in">console</span>.log(fst, lst) <span class="comment">// 'H', 'o'</span></span><br></pre></td></tr></table></figure>
<p>Phân rã biến cũng rất thường gặp khi bạn sử dụng ES6 module.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Component &#125; <span class="keyword">from</span> <span class="string">'react'</span></span><br><span class="line"><span class="keyword">import</span> &#123; render &#125; <span class="keyword">from</span> <span class="string">'react-dom'</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Tính tương thích:</strong> Trừ IE11, tất cả các trình duyệt còn lại đều hỗ trợ.</p>
</blockquote>
<h3 id="6-Rest-va-spread"><a href="#6-Rest-va-spread" class="headerlink" title="6. Rest và spread"></a>6. Rest và spread</h3><p>Rest – phần còn lại – là một bổ sung của phân rã biến mảng ở trên. Bạn dùng ba dấu chấm … để biểu thị rest.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> [first, second, ...others] = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(first, second, others)</span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// [3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<p>Rest cũng được dùng khi khai báo hàm có thể nhận nhiều tham số</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> foo = <span class="function">(<span class="params">...args</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">'You passed'</span>, args)</span><br><span class="line"><span class="built_in">console</span>.log(foo(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)) <span class="comment">// You passed[ 1, 2, 3 ]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> bar = <span class="function">(<span class="params">x, y, ...rest</span>) =&gt;</span> <span class="built_in">console</span>.log(rest, x, y)</span><br></pre></td></tr></table></figure>
<p>Bạn lưu ý biến args ở trên khác với biến đặc biệt arguments vốn có sẵn bên trong hàm. arguments là một đối tượng giống Array, với những thuộc tính đặc biệt như callee, trong khi args chỉ là một mảng bình thường.</p>
<p>Spread – rải – là thao tác ngược lại với rest, giúp bạn kết hợp một mảng đã có sẵn thành mảng mới.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> arr = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">const</span> newArr = [<span class="number">1</span>, <span class="number">2</span>, ...arr, <span class="number">6</span>]</span><br><span class="line"><span class="built_in">console</span>.log(newArr) <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br></pre></td></tr></table></figure>
<p>Spread rất hữu ích để thay thế các thao tác thên mảng, như .concat().</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> head = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line"><span class="keyword">const</span> tail = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="built_in">console</span>.log([...head, ...tail]) <span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<p>Spread cũng rất ngon khi thay thế cho Function.prototype.apply.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mul = <span class="function">(<span class="params">x, y, z</span>) =&gt;</span> x * y * z</span><br><span class="line"><span class="keyword">const</span> params = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// Thay thế cho</span></span><br><span class="line"><span class="comment">// mul.prototype.apply(null, params)</span></span><br><span class="line">mul(...params)</span><br></pre></td></tr></table></figure>
<p>Rest/spread cũng có thể hoạt động trên object, tương tự như Object.assign(), nhưng bạn lưu ý tính năng vẫn đang được <a href="https://github.com/tc39/proposal-object-rest-spread" target="_blank" rel="noopener">đề xuất</a> (proposal). Về phía trình duyệt, có Firefox và Chrome là hỗ trợ, trong khi Edge và Safari hoàn toàn không hoạt động.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">name</span>: <span class="string">'John'</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5</span></span><br><span class="line"><span class="keyword">const</span> userWithAgeEs5 = <span class="built_in">Object</span>.assign(&#123;&#125;, user, &#123; <span class="attr">age</span>: <span class="number">21</span> &#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// Thời đại mới với spread</span></span><br><span class="line"><span class="keyword">const</span> userWithAge = &#123; ...user, <span class="attr">age</span>: <span class="number">21</span> &#125;</span><br><span class="line"><span class="built_in">console</span>.log(userWithAge) <span class="comment">// &#123; name: 'John', age: 21 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Và rest</span></span><br><span class="line"><span class="keyword">const</span> &#123; name, ...others &#125; = userWithAge</span><br><span class="line"><span class="built_in">console</span>.log(others) <span class="comment">// &#123; age: 21 &#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Tính tương thích:</strong> Trừ IE11, tất cả các trình duyệt còn lại đều hỗ trợ rest và spread với mảng hay chuỗi. Với spread object, Edge và Safari chưa hỗ trợ.</p>
</blockquote>
<h3 id="7-Gia-tri-mac-dinh-cho-tham-so"><a href="#7-Gia-tri-mac-dinh-cho-tham-so" class="headerlink" title="7. Giá trị mặc định cho tham số"></a>7. Giá trị mặc định cho tham số</h3><p>Khi khai báo hàm, tính năng này cho phép bạn thiết lập giá trị mặc định của tham số khi nó không được truyền giá trị hoặc có giá trị undefined.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getDiscountedPrice</span>(<span class="params">price, discountRate = <span class="number">0.1</span></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> price * (<span class="number">1</span> + discountRate)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Dĩ nhiên bạn có thể dùng bất cứ giá trị nào làm giá trị mặc định.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">processItems</span>(<span class="params">items = []</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> items.map(transformItemData)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// hoặc dùng biến</span></span><br><span class="line"><span class="keyword">const</span> DISCOUNT_RATE = <span class="number">0.1</span></span><br><span class="line"><span class="keyword">const</span> getDiscountedPrice = <span class="function">(<span class="params">price, discountRate = DISCOUNT_RATE</span>) =&gt;</span> price * (<span class="number">1</span> + discountRate)</span><br></pre></td></tr></table></figure>
<h3 id="8-Lop-class"><a href="#8-Lop-class" class="headerlink" title="8. Lớp (class)"></a>8. Lớp (class)</h3><p>Với ES5, chúng ta sử dụng function để tạo lớp và thêm các phương thức vào lớp bằng cách mở rộng prototype.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params">x</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.x = x</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">Foo.prototype.add = <span class="function"><span class="keyword">function</span>(<span class="params">y</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>.x + y</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> Foo(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(f.add(<span class="number">2</span>)) <span class="comment">// 5</span></span><br></pre></td></tr></table></figure>
<p>ES6 mang đến cú pháp mới giúp tạo lớp trực tiếp và dễ dàng hơn.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(x) &#123;</span><br><span class="line">    <span class="keyword">this</span>.x = x</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  add(y) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.x + y</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// Khai báo phương thức tĩnh (static method)</span></span><br><span class="line">  <span class="keyword">static</span> whoAmI() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'I am a Foo class'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> f = <span class="keyword">new</span> Foo(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">console</span>.log(f.add(<span class="number">2</span>)) <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(Foo.whoAmI()) <span class="comment">// I am a Foo class</span></span><br></pre></td></tr></table></figure>
<p>Bạn cũng có thể kế thừa từ lớp khác bằng từ khóa extends.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> <span class="keyword">extends</span> <span class="title">Foo</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(x, y) &#123;</span><br><span class="line">    <span class="comment">// Gọi đến hàm dựng của lớp cha</span></span><br><span class="line">    <span class="keyword">super</span>(x)</span><br><span class="line">    <span class="keyword">this</span>.y = y</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  calculate() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.add(<span class="number">4</span>) + <span class="keyword">this</span>.y</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> f = <span class="keyword">new</span> Bar(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="built_in">console</span>.log(f.calculate()) <span class="comment">// 11</span></span><br></pre></td></tr></table></figure>
<p>Ngoài ra với bạn cũng có thể dùng hàm mũi tên khi khai báo phương thức trong lớp. Điều này giúp đảm bảo this luôn trỏ đến đối tượng hiện tại. Cú pháp này đặc biệt thông dụng trong các ứng dụng React, tuy nhiên <strong>vẫn chưa được hỗ trợ mặc định</strong> bởi các trình duyệt, nên bạn phải dùng Babel để chuyển đổi mã nguồn.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Button</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123; <span class="attr">name</span>: <span class="string">'Fabulous button'</span> &#125;</span><br><span class="line"></span><br><span class="line">  doClick = <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">    e.preventDefault()</span><br><span class="line">    <span class="comment">// 'You clicked Fabulous button'</span></span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`You clicked <span class="subst">$&#123;<span class="keyword">this</span>.state.name&#125;</span>`</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;this.doClick&#125;</span> /&gt;</span></span></span><br><span class="line"><span class="xml">  &#125;</span></span><br><span class="line"><span class="xml">&#125;</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p><strong>Tính tương thích:</strong> Trừ IE11, tất cả các trình duyệt còn lại đều hỗ trợ lớp căn bản.</p>
</blockquote>
<h3 id="9-Promise"><a href="#9-Promise" class="headerlink" title="9. Promise"></a>9. Promise</h3><p>Nếu bạn chưa biết Promise là gì thì <a href="https://kipalog.com/posts/Promise-la-khi-gi-" target="_blank" rel="noopener">click vào đây</a>.</p>
<p>Vì Promise đã được công nhận như một phần của đặc tả ECMAScript 6 nên các trình duyệt có nghĩa vụ phải hỗ trợ mặc định. So với những thư viện chuyên biệt như <a href="http://bluebirdjs.com" target="_blank" rel="noopener">bluebird</a> hay <a href="https://github.com/kriskowal/q" target="_blank" rel="noopener">q</a> thì phiên bản mặc định có ít tính năng hơn, nhưng cũng vừa đủ để dùng. Quan trọng là không cần thư viện thứ ba.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> showUser = <span class="function"><span class="params">user</span> =&gt;</span> <span class="built_in">console</span>.log(<span class="string">`Your name is <span class="subst">$&#123;user.name&#125;</span>`</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> getUserData = <span class="function"><span class="params">userId</span> =&gt;</span></span><br><span class="line">  <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> RemoteApi.get(<span class="string">`/users/<span class="subst">$&#123;userId&#125;</span>`</span>, (err, response) =&gt; &#123;</span><br><span class="line">      <span class="keyword">if</span> (err) <span class="keyword">return</span> reject(err)</span><br><span class="line">      resolve(response)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">getUserData(<span class="number">123</span>)</span><br><span class="line">  .then(<span class="function"><span class="params">response</span> =&gt;</span> response.data)</span><br><span class="line">  .then(showUser)</span><br><span class="line">  .catch(<span class="function"><span class="params">err</span> =&gt;</span> <span class="built_in">console</span>.error(<span class="string">'Oh no'</span>, err))</span><br></pre></td></tr></table></figure>
<p>Promise còn có các hàm tĩnh khác:</p>
<h5 id="Promise-all-iterator"><a href="#Promise-all-iterator" class="headerlink" title="Promise.all(iterator)"></a>Promise.all(iterator)</h5><p>Nhận vào một mảng các promises và chỉ resolve khi tất cả promises trong mảng được resolve.</p>
<h5 id="Promise-race-iterator"><a href="#Promise-race-iterator" class="headerlink" title="Promise.race(iterator)"></a>Promise.race(iterator)</h5><p>Nhận vào một mảng các promises và resolve/reject ngay khi một trong các promises trong mảng resolve/reject.</p>
<h5 id="Promise-resolve"><a href="#Promise-resolve" class="headerlink" title="Promise.resolve()"></a>Promise.resolve()</h5><p>Trả về một promise được tự động resolve.</p>
<h5 id="Promise-reject"><a href="#Promise-reject" class="headerlink" title="Promise.reject()"></a>Promise.reject()</h5><p>Trả về một promise được tự động reject.</p>
<blockquote>
<p><strong>Tính tương thích:</strong> Trừ IE11, tất cả các trình duyệt còn lại đều hỗ trợ.</p>
</blockquote>
<h3 id="Ket"><a href="#Ket" class="headerlink" title="Kết"></a>Kết</h3><p>ES6 mang đến những tính năng tuyệt vời cho lập trình viên, giúp cho làm việc với JavaScript trở nên dễ thở hơn, đồng thời nâng cao hiệu suất, cải thiện mã nguồn và giảm dung lượng tập tin khi truyền tải trên mạng. Nếu ứng dụng của bạn hướng đến các trình duyệt hiện đại, đừng chần chờ gì, hãy dùng ES6 ngay hôm nay.</p>
<span>Source: </span><a href="https://ehkoo.com/bai-viet/tong-hop-tinh-nang-noi-bat-es6" target="_blank" title="https://ehkoo.com/bai-viet/tong-hop-tinh-nang-noi-bat-es6" class="post-from">https://ehkoo.com/bai-viet/tong-hop-tinh-nang-noi-bat-es6</a></div></div></article></div></section><div class="wrap"><footer><div class="paginator"><a href="/2018/07/Tim-Hieu-Map-Va-Set-Trong-Javascript.html" class="prev">NEXT</a><a href="/2018/07/Chi-phi-cua-Javascript.html" class="next">PREV</a></div><div class="copyright"><p>© 2017 - 2018 <a href="http://nthung2112.github.io">Hung Tan Nguyen</a>, unless otherwise noted.</p></div></footer></div><script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-41935289-1",'auto');ga('send','pageview');</script><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script><script src="/js/zoom.js"></script><script src="/js/insight.js"></script></body></html>