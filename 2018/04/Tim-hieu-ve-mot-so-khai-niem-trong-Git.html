<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title> Tìm hiểu về một số khái niệm trong Git · Learn and Share</title><meta name="description" content="Tìm hiểu về một số khái niệm trong Git - Hung Tan Nguyen"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#FB4D42"><meta name="google-site-verification" content="rk-Nc1c8xi1CdZ0ZQIVV-ifsndGrHanIuSHI-yTHZYE"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="/css/zoom.css"><meta property="og:title" content="Tìm hiểu về một số khái niệm trong Git"><meta property="og:image" content="https://git-scm.com/images/branching-illustration@2x.png"><meta property="og:description" content="Giới thiệuĐối với các lập trình viên, việc sử dụng công cụ quản lý phiên bản git là điều không thể thiểu trong công việc hằng ngày và là một trong những kĩ năng cơ bản nhất mà ai cũng cần có được. Git có rất nhiều các khái niệm khác nhau nên nếu bạn chỉ là người mới làm quen với git thì đây chính là bài viết dành cho bạn. Bài viết sẽ giải thích tại sao chúng ta nên sử dụng git cũng như một số khái niệm thường gặp khi sử dụng git."></head><body><div class="wrap"><div class="header"><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nthung2112" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item search-form-input"><div class="search-icon"><div class="search-icon__circle"></div><div class="search-icon__rectangle"></div></div></li></ul><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" placeholder="Type something..." class="ins-search-input"><span class="ins-close ins-selectable"><div class="close-icon"><div class="close-icon__x"></div><div class="close-icon__y"></div></div></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>var rootUrl = "/";
var contentUrl = '/content.json';
(function (window) {
  var INSIGHT_CONFIG = {
  TRANSLATION: {
      POSTS:'Posts',
      PAGES: 'Pages',
      CATEGORIES: 'Categories',
      TAGS: 'Tags',
      UNTITLED: '(Untitled)'
    },
    ROOT_URL: rootUrl,
    CONTENT_URL: contentUrl,
  };
  window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);</script></div></div><section class="container"><div class="post"><article class="post-block"><div class="wrap"><h1 class="post-title">Tìm hiểu về một số khái niệm trong Git</h1><h2 class="post-subtitle"></h2><header class="post-info">Apr 26, 2018<div class="tags"><a href="/tags/git" class="tag-link">#git</a></div><div class="fb-ir-time"><time dateTime="2018-04-26T07:39:00.000Z" class="op-modified"></time><time dateTime="2018-04-26T07:39:00.000Z" class="op-published"></time></div></header></div><div class="post-banner"><img src="https://git-scm.com/images/branching-illustration@2x.png"></div><div class="wrap"><div class="post-content"><h3 id="Gioi-thieu"><a href="#Gioi-thieu" class="headerlink" title="Giới thiệu"></a>Giới thiệu</h3><p>Đối với các lập trình viên, việc sử dụng công cụ quản lý phiên bản <strong>git</strong> là điều không thể thiểu trong công việc hằng ngày và là một trong những kĩ năng cơ bản nhất mà ai cũng cần có được. <strong>Git</strong> có rất nhiều các khái niệm khác nhau nên nếu bạn chỉ là người mới làm quen với <strong>git</strong> thì đây chính là bài viết dành cho bạn. Bài viết sẽ giải thích tại sao chúng ta nên sử dụng <strong>git</strong> cũng như một số khái niệm thường gặp khi sử dụng <strong>git</strong>.</p>
<a id="more"></a>
<h3 id="Tai-sao-can-su-dung-git"><a href="#Tai-sao-can-su-dung-git" class="headerlink" title="Tại sao cần sử dụng git?"></a>Tại sao cần sử dụng git?</h3><ul>
<li>Thử tưởng tượng khi làm một project và bạn muốn bổ sung hoặc làm thêm tính năng mới cho project của mình. Tuy nhiên để đảm bảo rằng bạn có thể quay lại sử dụng phần code trước đó bạn đã code trong trường hợp tính năng mới gây lỗi và bạn không nhớ phải xóa những gì để khôi phục lại trạng thái code trước đó thì bạn cần phải thực hiện copy toàn bộ project đó và paste ra đâu đó để lưu trữ rồi mới bắt đầu thực hiện code tính năng mới. Như vậy mỗi lần muốn làm tính năng mới, bạn phải lặp đi lặp lại thao tác trên và rất mất thời gian. Sử dụng <strong>Git</strong> có thể giải quyết vấn đề này chỉ trong 1 vài dòng lệnh</li>
<li>Nếu project bạn đang làm có 2 thành viên cùng làm, mỗi lần một người hoàn thành một tính năng lại phải gửi toàn bộ source code đó thông qua usb, google driver hoặc công cụ lưu trữ online nào đó cho thành viên còn lại có thể download về và paste đè lại lên phần code của người đó. Công việc này cũng mất rất nhiều thời gian và tồn tại nhiều rủi rõ khi paste code chồng lên nhau. Để giải quyết vấn đề này, ta cũng có thể sử dụng <strong>git</strong> và một <strong>remote repository</strong></li>
</ul>
<h3 id="Cac-khai-niem-co-ban-trong-git"><a href="#Cac-khai-niem-co-ban-trong-git" class="headerlink" title="Các khái niệm cơ bản trong git"></a>Các khái niệm cơ bản trong git</h3><h4 id="1-Repository-la-gi"><a href="#1-Repository-la-gi" class="headerlink" title="1. Repository là gì?"></a>1. Repository là gì?</h4><ul>
<li>Khi sử dụng git, lệnh đầu tiên mà chúng ta thường gõ:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git init</span><br></pre></td></tr></table></figure>
<ul>
<li>Lệnh này sẽ tạo ra một thư mục ẩn có tên .git và đây chính là repository (hay kho chứa). Còn phần code hay hay thư mục của project nằm cùng với thư mục .git được gọi là Working Directory. Git sử dụng repository này để lưu trữ, giám sát toàn bộ thông tin về các trạng thái của và bất cứ thay đổi nào với project lúc này sẽ được git lưu trữ lại.</li>
<li>Có hai loại repository gồm local repository - là repository nằm trên chính máy tính của chúng ta và remote repository - là repository nằm trên một máy chủ từ xa được cung cấp bởi các nhà phân phối như <a href="https://github.com/" target="_blank" rel="noopener">Github</a>, <a href="https://gitlab.com/" target="_blank" rel="noopener">Gitlab</a> hay <a href="https://bitbucket.org/" target="_blank" rel="noopener">Bitbucket</a>, …</li>
</ul>
<h4 id="2-Branch-la-gi"><a href="#2-Branch-la-gi" class="headerlink" title="2. Branch là gì?"></a>2. Branch là gì?</h4><ul>
<li>Như đã nói ở trên về vấn đề khi ta muốn thêm một tính năng mới mà đảm bảo vẫn có thể dễ dàng khôi phục lại trạng thái trước đó thì ta có thể sử tạo 1 branch mới nhau sau:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
<p>hoặc</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git checkout -b &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>Branch mặc định là master</li>
<li>Branch mới được tạo ra sẽ chứa toàn bộ trạng thái và những thay đổi đã thực hiện trên project trước khi được tạo</li>
<li>Với mỗi repository ta có thể tạo nhiều branch khác nhau và các nhánh này là độc lập với nhau nên khi ta có thay đổi đối với project trên branch này sẽ không ảnh hưởng đến các branch khác</li>
<li>Khi tính năng được ta thử nghiệm trên nhánh mới hoàn thiện và đã được kiểm tra đầy đủ, ta có thể tiến hành hợp nhất 2 nhánh với nhau (đưa những thay đổi của nhánh này gộp vào với nhánh khác)</li>
<li>Có hai loại branch là local branch - là branch nằm trên máy tính của chúng ta và remote branch - là branch nằm trên máy chủ từ xa</li>
</ul>
<h4 id="3-Lam-the-nao-de-xoa-mot-branch"><a href="#3-Lam-the-nao-de-xoa-mot-branch" class="headerlink" title="3. Làm thế nào để xóa một branch?"></a>3. Làm thế nào để xóa một branch?</h4><ul>
<li><p>Trong trường hợp branch chúng ta tạo ra trước đó không còn cần thiết nữa, ta có thể tiến hành xóa chúng đi bằng cách sử dụng các lệnh như sau:</p>
<ul>
<li>Đối với local branch:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -d &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Với cách xóa trên, nếu branch cần xóa chưa được gộp thay đổi với branch khác sẽ lập tức báo lỗi vào yêu cầu gộp với branch khác trước khi thực hiện xóa bằng lệnh này</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -D &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
<p>Với cách xóa này thì branch được chỉ định sẽ lập tức bị xóa kể cả trong trường hợp nó chưa được gộp với branch khác</p>
<ul>
<li>Đối với remote branch:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push --delete &lt;tên-remote&gt; &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>hoặc</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;tên-remote&gt; --delete &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p><em>Lưu ý: đối với cả local branch và remote branch ta có thể tiến hành xóa đồng thời nhiều branch bằng cách liệt kê tên các branch cần xóa liền nối tiếp nhau và cách nhau một khoảng trắng</em></p>
<h4 id="4-Push-local-branch-len-remote-server-voi-mot-ten-khac"><a href="#4-Push-local-branch-len-remote-server-voi-mot-ten-khac" class="headerlink" title="4. Push local branch lên remote server với một tên khác"></a>4. Push local branch lên remote server với một tên khác</h4><ul>
<li>Thông thường khi chúng ta tiến hành push một local branch lên remote server thì tên branch mặc định của remote branch lúc này sẽ là tên của local branch, lệnh push như sau:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;tên-remote&gt; &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>Nhưng nếu ta muốn đổi tên của remote branch đó trên server thì ta cần sử dụng lệnh như sau:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git push &lt;tên-remote&gt; &lt;tên-branch&gt;:&lt;tên-remote-branch&gt;</span><br></pre></td></tr></table></figure>
<h4 id="5-Phan-biet-rebase-va-merge"><a href="#5-Phan-biet-rebase-va-merge" class="headerlink" title="5. Phân biệt rebase và merge"></a>5. Phân biệt rebase và merge</h4><ul>
<li>Khi muốn tiến hành gộp 2 branch lại với nhau, ta có thể sử dụng một trong hai lệnh sau:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git merge &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
<p>hoặc</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase &lt;tên-branch&gt;</span><br></pre></td></tr></table></figure>
<p>Sẽ tiến hành gộp branch hiện tại với branch mà ta lựa chọn. Tuy có cùng chức năng là gộp nhánh nhưng cách hoạt động của merge và rebase lại khác với nhau, ta có thể so sánh sự khác biệt thông đó như sau:</p>
<ul>
<li>Giả sử ta có 2 branch cần gộp với nhau như hình sau:<br><img src="https://viblo.asia/uploads/2916cb93-a062-4546-9414-16781503b1c1.png" alt=""></li>
</ul>
<hr>
<ul>
<li>Đối với sử dụng merge kết quả thu được sẽ như sau:<br><img src="https://viblo.asia/uploads/8da09449-44e1-49e6-902e-0648cdcb2977.png" alt=""><br> Việc sử dụng merge sẽ tạo ra một commit mới là kết hợp từ 2 commit cuối cùng của 2 nhánh cần gộp vào với nhau Log commit sẽ không bị thay đổi và thứ tự các commit sẽ được sắp xếp theo thời gian tạo commit</li>
</ul>
<hr>
<ul>
<li>Đối với sử dụng rebase kết quả thu được sẽ như sau:<br><img src="https://viblo.asia/uploads/e26ee7ad-e024-4dda-b500-261cfe7b9dd9.png" alt=""><br> Rebase sẽ đưa toàn bộ branch Feature lên trên ‘đầu’ branch master Làm thay đổi lịch sử commit</li>
</ul>
<h4 id="6-Khac-nhau-giua-fetch-va-pull"><a href="#6-Khac-nhau-giua-fetch-va-pull" class="headerlink" title="6. Khác nhau giữa fetch và pull"></a>6. Khác nhau giữa fetch và pull</h4><ul>
<li>Khi muốn cập nhật các thay đổi từ trên remote server về local repository ta cũng có hai cách để thực hiện điều này như sau:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git pull &lt;tên-remote&gt; &lt;tên-remote-branch&gt;</span><br></pre></td></tr></table></figure>
<p>Lệnh này sẽ tiến hành kéo các thay đổi từ trên remote server về local của chúng ta đồng thời tiến hành merge các thay đổi đó ngay</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git fetch &lt;tên-remote&gt; &lt;tên-remote-branch&gt;</span><br></pre></td></tr></table></figure>
<p>Đối với lệnh fetch, các thay đổi từ remote server sẽ được kéo về máy nhưng không tự động merge vào source code của chúng ta mà chúng ta có thể thực hiện việc này sau khi đã review lại các thay đổi đó trước khi tiến hành merge. Các thay đổi này được đẩy sang một branch khác và ta có thể sử dụng lệnh:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git branch -a</span><br></pre></td></tr></table></figure>
<p>Để xem được các branch sau khi fetch đồng thời cũng có thể checkout sang branch đó để xem các thay đổi.</p>
<ul>
<li>Có thể hiểu đơn giản lại sự khác nhau giữa fetch và pull như sau:<ul>
<li>git pull = git fetch + git merge</li>
</ul>
</li>
</ul>
<h4 id="7-The-nao-la-git-stash"><a href="#7-The-nao-la-git-stash" class="headerlink" title="7. Thế nào là git stash?"></a>7. Thế nào là git stash?</h4><ul>
<li>Trong quá trình chúng làm việc, có những lúc chúng ta đang code dở một chức năng nào đó nhưng bất ngờ ở một chức năng trên branch khác đang có lỗi cần phải sửa gấp và chúng ta muốn lưu lại thay đổi đã làm trên nhánh hiện tại nhưng không muốn thực hiện commit dư thừa thì git stash là lệnh mà chúng ta có thể dùng để giải quyết vấn đề này.</li>
<li>git stash cho bạn khả năng lưu lại trạng những thay đổi mà bạn đã tạo ra mà không cần thiết phải commit nó giúp bạn có thể dễ dàng chuyển sang nhánh khác làm việc và sau đó quay lại và tiếp tục những gì bạn đang làm ở nhánh đó.</li>
<li><p>Các lệnh liên quan đến git stash</p>
<ul>
<li><strong>Để lưu được những thay đổi mà không cần commit nó, ta cần thực hiện những lệnh sau</strong>:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git add .</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>Để đưa toàn bộ các thay đổi đó vào trạng tháy staged, sau đó sử dụng lệnh sau để lưu thay đổi đó mà không cần commit:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash # hoặc &quot;git stash save&quot;</span><br></pre></td></tr></table></figure>
<ul>
<li><p><strong>Để xem lại các thay đổi đã lưu, ta có thể dùng các lệnh sau</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ git stash list</span><br><span class="line">stash@&#123;0&#125;: WIP on &lt;branch-name&gt;: &lt;lastest commit&gt;</span><br><span class="line">stash@&#123;1&#125;: WIP on &lt;branch-name&gt;: &lt;lastest commit&gt;</span><br><span class="line">stash@&#123;2&#125;: WIP on &lt;branch-name&gt;: &lt;lastest commit&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Để xem lại danh sách các lần đã lưu, trong trường hợp muốn xem nội dung thay đổi thì ta gõ lệnh sau</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash list -p</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Hoặc nếu muốn xem cụ thể nội dung thay đổi của một lần lưu cụ thể, ta dùng lệnh</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git stash show &quot;stash@&#123;n&#125;&quot;</span><br><span class="line">// với n là lần lưu tương ứng trong danh sách</span><br><span class="line">// Lưu ý phần stash@&#123;n&#125; phải nằm trong cặp ngoặc đôi</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Để lấy lại thay đổi được lưu trong danh sách trên ta dùng lệnh</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash apply &quot;stash@&#123;n&#125;&quot;</span><br></pre></td></tr></table></figure>
<p>Hoặc lấy thay đổi gần nhất và xóa lần lưu đó</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash pop</span><br></pre></td></tr></table></figure>
</li>
<li><p><strong>Để xóa danh sách các thay đổi đã lưu, ta dùng lệnh</strong>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash drop &quot;stash@&#123;n&#125;&quot;</span><br></pre></td></tr></table></figure>
<p>Để drop một lần lưu chỉ định hoặc</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git stash clear</span><br></pre></td></tr></table></figure>
<p>Để xóa toàn bộ những lần đã lưu</p>
</li>
</ul>
</li>
</ul>
<h4 id="8-Lam-the-nao-de-xoa-bo-trang-thai-vai-commit-gan-day"><a href="#8-Lam-the-nao-de-xoa-bo-trang-thai-vai-commit-gan-day" class="headerlink" title="8. Làm thể nào để xóa bỏ trạng thài vài commit gần đây?"></a>8. Làm thể nào để xóa bỏ trạng thài vài commit gần đây?</h4><p>Để thưc hiện công việc này chúng ta có thể sử dụng 1 trong 2 lệnh sau:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git revert &lt;commit-hash-code&gt;</span><br></pre></td></tr></table></figure>
<p>Lệnh này sẽ tạo ra một commit mới đảo ngược lại những thay đổi trong commit được chỉ định.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard &lt;commit-hash-code&gt;</span><br></pre></td></tr></table></figure>
<p>Keehnh này sẽ xóa toàn bộ các commit trước đó và đưa branch hiện tại trở về trạng thái của commit-hash-code đã chọn</p>
<h4 id="9-Gop-mot-vai-commit-thanh-mot-commit-duy-nhat"><a href="#9-Gop-mot-vai-commit-thanh-mot-commit-duy-nhat" class="headerlink" title="9. Gộp một vài commit thành một commit duy nhất?"></a>9. Gộp một vài commit thành một commit duy nhất?</h4><ul>
<li>Đôi khi trong lúc làm việc, ta thường tạo ra một số commit dư thừa và sau đó muốn gộp chung số commit đó lại với một message rõ ràng hơn về mục đích chung của toàn bộ các commit đó. Để làm được điểu này, ta có thể sử dụng những lệnh sau:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i &lt;commit-hash-code&gt;</span><br></pre></td></tr></table></figure>
<p>Với commit-hash-code là hash code của commit cuối cùng của nhóm cần gộp hoặc:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git rebase -i HEAD~&lt;index&gt;</span><br></pre></td></tr></table></figure>
<p>Với index là số lượng commit cần gồm so với commit cuối cùng. Ngoài ra khi thực hiện việc rebase để gộp commit, ta có các lựa chọn khác như pick|squash|fixup để quyết định kiểu gộp. Cuối cùng ta cũng có thể dùng lệnh sau để gộp commit:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --soft &lt;commit-hash-code&gt;</span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m&quot;New commit&quot;</span><br></pre></td></tr></table></figure>
<p>Với commit-hash-code là mã hash của commit trước đó mà ta muốn gộp lại từ commit cuối cùng đến commit chỉ định.</p>
<h4 id="10-Phan-biet-giua-git-reset-reset-–soft-reset-–hard"><a href="#10-Phan-biet-giua-git-reset-reset-–soft-reset-–hard" class="headerlink" title="10. Phân biệt giữa git reset, reset –soft, reset –hard"></a>10. Phân biệt giữa git reset, reset –soft, reset –hard</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset &lt;commit-hash-code&gt;</span><br></pre></td></tr></table></figure>
<p>Sẽ di chuyển HEAD về phía commit được chỉ định nhưng vẫn giữ nguyên trạng thái thay đổi của các file và đồng thời loại bỏ các file đó khỏi trạng thái staged</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --soft &lt;commit-hash-code&gt;</span><br></pre></td></tr></table></figure>
<p>Tương tư như git reset nhưng toàn bộ các fle vẫn giữ được trạng thái staged.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git reset --hard &lt;commit-hard-code&gt;</span><br></pre></td></tr></table></figure>
<p>Tương tự như 2 lệnh trên nhưng toàn bộ sự thay đổi của các file sẽ bị loại bỏ hoàn toàn nên hãy chú ý khi dùng lệnh này để tránh rơi vào trường hợp bao nhiêu công sức đổ xuống sông xuống biển<br><img src="https://twemoji.maxcdn.com/2/72x72/1f604.png" alt=""></p>
<h4 id="The-nao-la-cherry-pick"><a href="#The-nao-la-cherry-pick" class="headerlink" title="Thế nào là cherry-pick?"></a>Thế nào là cherry-pick?</h4><ul>
<li>Bạn có thể hiểu cherry-pick cũng có một số điểm tương đồng với merge và rebase là lấy thay đổi từ một branch này và gộp vào branch khác. Nhưng điểm khác nhau lớn nhất giữa cherry-pick và merge, rebase là cherry-pick chỉ gộp một commit được chỉ định từ một nhánh khác vào nhánh hiện tại trong khi merge và rebase sẽ gộp toàn bộ các commit lại. Để sử dụng cherry-pick, ta cần xem lại log các commit sau đó lấy mã hash của commit cần được cherry-pick và checkout sang nhánh cần được gộp commit của mã hash kia và thực hiện lệnh:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git cherry-pick &lt;commit-hash-code&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>Một hình ảnh minh họa cho cherry-pick:<br><img src="https://viblo.asia/uploads/58fb9676-c97d-4ad8-8431-172c129cdad1.png" alt=""></p>
<ul>
<li>Giả sử ta muốn lấy commit C từ branch master và gộp vào branch cherry-pick</li>
<li><p>Sau khi thực hiện lệnh cherry-pick như đề cập ở trên, đây sẽ là kết quả ta thu được<br><img src="https://viblo.asia/uploads/4db578c2-aa4c-44fa-a6ae-4af4ec1d548c.png" alt=""></p>
</li>
<li><p>Như ta có thể thấy commit C từ branch master được gộp vào với branch cherry–pick dưới tên commit là C’</p>
</li>
</ul>
</li>
</ul>
<h4 id="Git-flow-la-gi"><a href="#Git-flow-la-gi" class="headerlink" title="Git flow là gì?"></a>Git flow là gì?</h4><ul>
<li>Git flow là một quy trình làm việc với git được thiết kế bởi Vincent Driessen. Git flow đưa ra một mô hình phân nhánh giúp hỗ trợ việc quản lý các dự án lớn dễ dàng hơn. Sơ đồ tổng quan:<br><img src="https://viblo.asia/uploads/c3f681b2-36bb-4dda-9831-64770c5bdbfb.png" alt=""></li>
</ul>
<h5 id="Cac-branch-trong-gitflow"><a href="#Cac-branch-trong-gitflow" class="headerlink" title="Các branch trong gitflow:"></a>Các branch trong gitflow:</h5><ul>
<li>Master branch: là branch dùng cho sản phẩm chính thức. Đây luôn là branch ổn định nhất và nó chưa lịch sử các lần release của dự án</li>
<li>Develop branch: là nhánh dùng cho sản phẩm trong quá trình phát triển</li>
<li>Feature: mỗi tính năng mới cho sẩn phẩm sẽ được tạo và phát triển trên một branch mới với tên quy ước feature/tên_branch. Các <strong>feature</strong> này sẽ tạo ra từ <strong>develop branch</strong> và khi được hoàn thiện sẽ được gộp trở lại với <strong>develop branch</strong> (<em>Lưu ý: các Feature không được phép gộp trực tiếp với master branch</em>)</li>
<li>Release: khi <strong>develop branch</strong> đã có đủ số tính năng cần thiết để có thể release, ta có thể tạo branch mới với tên quy ước release/tên_version. Branch này sau khi được tạo xong sẽ tiến hành merge nó với đồng thời cả <strong>master branch</strong> và <strong>develop branch</strong></li>
<li>Hotfix branch: khi sản phẩm trên <strong>master branch</strong> của chúng ta gặp phải trục trặc và cần có bản vá ngay lập tức thì ta sẽ tạo ra <strong>hotfix branch</strong>. Branch này tương tự như <strong>release branch</strong> nhưng nó được tạo ra từ <strong>master branch</strong> thay vì từ <strong>develop branch</strong> như release (*Chú ý <strong>hotfix branch</strong> cũng cần được gộp lại với <strong>master branch</strong> với <strong>develop branch</strong>)</li>
</ul>
<h5 id="Cac-lenh-trong-gitflow"><a href="#Cac-lenh-trong-gitflow" class="headerlink" title="Các lệnh trong gitflow"></a>Các lệnh trong gitflow</h5><ul>
<li><p>Để khởi tạo một git-flow cho một project, ta dùng lệnh sau</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git flow init</span><br></pre></td></tr></table></figure>
<ul>
<li>Lệnh này sẽ tạo ra hai branch ban đầu là master và develop</li>
</ul>
</li>
<li><p>Để bắt đầu một feature ta dùng lệnh</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git flow feature start &lt;tên-feature&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>Sẽ tạo ra một branch mới có tên dạng feature/&lt;tên-feature&gt;</li>
</ul>
</li>
<li><p>Sau khi feature đó được thực hiện xong, ta có thể công bố feature đó lên remote server để mọi người cùng có thể cập nhật bằng cách gõ lệnh:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git flow feature publish &lt;tên-feature&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Để tiến hành gộp branch đó vào <strong>develop branch</strong> ta dùng lệnh:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git flow feature finish &lt;tên-feature&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Để tạo một bản release ta dùng lệnh:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git flow release start &lt;verion-no&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Để tiến hành merge bản release đó vào <strong>master branch</strong> và <strong>develop branch</strong> ta dùng lệnh:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git flow release finish &lt;version-no&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Để tạo một bản hotfix ta dùng lệnh:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git flow hotfix start &lt;tên-hotfix&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>Sau khi bản hotfix hoàn thiện ta có thể tiến hành merge lại với <strong>master branch</strong> và <strong>develop branch</strong> như sau:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git flow hotfix finish &lt;tên-hotfix&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h3><p>Bài viết ở trên chủ yếu giới thiệu cho mọi người về các khái niệm trong git cũng như cách sử dụng nó trong công việc thường ngày của mình một cách hiệu quả hơn. Cám ơn bạn đã theo dõi.</p>
<span>Source: </span><a href="https://viblo.asia/p/tim-hieu-ve-mot-so-khai-niem-trong-git-RQqKLgVN57z" target="_blank" title="https://viblo.asia/p/tim-hieu-ve-mot-so-khai-niem-trong-git-RQqKLgVN57z" class="post-from">https://viblo.asia/p/tim-hieu-ve-mot-so-khai-niem-trong-git-RQqKLgVN57z</a></div></div></article></div></section><div class="wrap"><footer><div class="paginator"><a href="/2018/04/Cach-phan-nhanh-va-chia-viec-trong-nhom-voi-Git.html" class="prev">NEXT</a><a href="/2018/04/Progressive-Web-App-tuong-lai-cua-nen-tang-web.html" class="next">PREV</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'nthung2112';
var disqus_identifier = '2018/04/Tim-hieu-ve-mot-so-khai-niem-trong-Git.html';
var disqus_title = 'Tìm hiểu về một số khái niệm trong Git';
var disqus_url = 'http://nth-blogs.herokuapp.com/2018/04/Tim-hieu-ve-mot-so-khai-niem-trong-Git.html';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//nthung2112.disqus.com/count.js" async></script><div class="copyright"><p>© 2017 - 2018 <a href="http://nth-blogs.herokuapp.com">Hung Tan Nguyen</a>, unless otherwise noted.</p></div></footer></div><script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script><script src="/js/zoom.js"></script><script src="/js/insight.js"></script></body></html>