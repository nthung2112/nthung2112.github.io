<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title> Reducing CSS bundle size with webpack · Learn and Share</title><meta name="description" content="Reducing CSS bundle size with webpack - Hung Tan Nguyen"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#FB4D42"><meta name="google-site-verification" content="rk-Nc1c8xi1CdZ0ZQIVV-ifsndGrHanIuSHI-yTHZYE"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="/css/zoom.css"><meta property="og:title" content="Reducing CSS bundle size with webpack"><meta property="og:image"><meta property="og:description" content="Đầu năm nay tôi đã build 1 ứng dụng tên là GO2CINEMA, 1 ứng dụng nhỏ gọn, nhanh nhẹ, bảo mật, giúp người dùng book vé xem phim ở Anh. Trong thời gian build ứng dụng này, tôi đã bị ám ảnh với việc tối ưu hóa tốc độ render.
Tôi đã giải quyết việc pre-render HTML bằng usus. usus sẽ render HTML SPA (Single Page Application) và sử dụng inline CSS. Tuy nhiên tôi không thích việc nhét đến 70kB dung lượng vào mỗi tài liệu HTML, nhất là khi phần lớn dung lượng đó là để chứa tên class CSS."></head><body><div class="wrap"><div class="header"><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nthung2112" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item search-form-input"><div class="search-icon"><div class="search-icon__circle"></div><div class="search-icon__rectangle"></div></div></li></ul><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" placeholder="Type something..." class="ins-search-input"><span class="ins-close ins-selectable"><div class="close-icon"><div class="close-icon__x"></div><div class="close-icon__y"></div></div></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>var rootUrl = "/";
var contentUrl = '/content.json';
(function (window) {
  var INSIGHT_CONFIG = {
  TRANSLATION: {
      POSTS:'Posts',
      PAGES: 'Pages',
      CATEGORIES: 'Categories',
      TAGS: 'Tags',
      UNTITLED: '(Untitled)'
    },
    ROOT_URL: rootUrl,
    CONTENT_URL: contentUrl,
  };
  window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);</script></div></div><section class="container"><div class="post"><article class="post-block"><div class="wrap"><h1 class="post-title">Reducing CSS bundle size with webpack</h1><h2 class="post-subtitle"></h2><header class="post-info">Aug 20, 2017<div class="tags"><a href="/tags/css" class="tag-link">#css</a><a href="/tags/webpack" class="tag-link">#webpack</a></div><div class="fb-ir-time"><time datetime="2017-08-20T08:41:31.000Z" class="op-modified"></time><time datetime="2017-08-20T08:41:31.000Z" class="op-published"></time></div></header></div><div class="wrap"><div class="post-content"><p>Đầu năm nay tôi đã build 1 ứng dụng tên là <a href="https://go2cinema.com/" target="_blank" rel="noopener">GO2CINEMA</a>, 1 ứng dụng nhỏ gọn, nhanh nhẹ, bảo mật, giúp người dùng book vé xem phim ở Anh. Trong thời gian build ứng dụng này, tôi đã bị ám ảnh với việc tối ưu hóa tốc độ render.</p>
<p>Tôi đã giải quyết việc pre-render HTML bằng <a href="https://github.com/gajus/usus" target="_blank" rel="noopener">usus</a>. usus sẽ render HTML SPA (Single Page Application) và sử dụng <a href="https://medium.com/@gajus/pre-rendering-spa-for-seo-and-improved-perceived-page-loading-speed-47075aa16d24" target="_blank" rel="noopener">inline CSS</a>. Tuy nhiên tôi không thích việc nhét đến 70kB dung lượng vào mỗi tài liệu HTML, nhất là khi phần lớn dung lượng đó là để chứa tên class CSS.<br><a id="more"></a></p>
<h2 id="Google-xu-ly-nhu-the-nao"><a href="#Google-xu-ly-nhu-the-nao" class="headerlink" title="Google xử lý như thế nào?"></a>Google xử lý như thế nào?</h2><p>Đã bao giờ bạn tò mò về source code của <a href="https://www.google.com/" target="_blank" rel="noopener">Google</a> chưa? Nếu rồi, hẳn bạn sẽ nhận ra tên class CSS chỉ đơn giản là vài ký tự. Bạn có thắc mắc tại sao lại thế không?</p>
<p><img src="https://cdn-images-1.medium.com/max/800/1*mGuDYFM56iyLi1MgZPC8bw.png" alt="https://cdn-images-1.medium.com/max/800/1*mGuDYFM56iyLi1MgZPC8bw.png"></p>
<h2 id="Su-thieu-sot-cua-CSS-minifier"><a href="#Su-thieu-sot-cua-CSS-minifier" class="headerlink" title="Sự thiếu sót của CSS minifier"></a>Sự thiếu sót của CSS minifier</h2><p>Có 1 thứ duy nhất minifier không thể làm được: đó là thay đổi tên của selector. Lý do là vì minifier CSS không điều khiển được các HTML output. Trong lúc đó, các CSS name có thể rất dài.</p>
<p>Nếu bạn sử dụng CSS module, CSS module sẽ có xu hướng thêm các tên cho stylesheet, local identifier và các hash ngẫu nhiên. Dạng của tên class sẽ được định nghĩa bởi css-loader <a href="https://github.com/webpack-contrib/css-loader" target="_blank" rel="noopener">localIdentName</a>, config như sau: <code>[name]___[local]___[hash:base64:5</code>. Do đó, tên class sẽ được sinh ra có dạng giống thế: <code>.MovieView___movie-title___yvKVV</code>; trong trường hợp bạn muốn mô tả kĩ hơn, tên class có thể còn dài nữa: <code>.MovieView___movie-description-with-summary-paragraph___yvKVV</code></p>
<h2 id="Thay-doi-ten-class-CSS-ngay-thoi-diem-bien-dich"><a href="#Thay-doi-ten-class-CSS-ngay-thoi-diem-bien-dich" class="headerlink" title="Thay đổi tên class CSS ngay thời điểm biên dịch"></a>Thay đổi tên class CSS ngay thời điểm biên dịch</h2><p>Nếu bạn sử dụng <a href="https://webpack.js.org/" target="_blank" rel="noopener">webpack</a> và <a href="https://github.com/gajus/babel-plugin-react-css-modules" target="_blank" rel="noopener">babel-plugin-react-css-module</a> thì bạn không cần lo lắng thêm về vấn đề này nữa. Bạn có thể thay đổi tên class ngay thời điểm biên dịch bằng cách sử dụng css-loader <a href="https://github.com/webpack-contrib/css-loader" target="_blank" rel="noopener">getLocalIdent</a> và babel-plugin-react-css-modules <a href="https://github.com/gajus/babel-plugin-react-css-modules#configuration" target="_blank" rel="noopener">generateScopedName</a>.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> generateScopedName = (</span><br><span class="line">  localName: string,</span><br><span class="line">  resourcePath: string</span><br><span class="line">) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> componentName = resourcePath.split(<span class="string">'/'</span>).slice(<span class="number">-2</span>, <span class="number">-1</span>);</span><br><span class="line"><span class="keyword">return</span> componentName + <span class="string">'_'</span> + localName;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Có 1 điều khá tuyệt về <code>generateScopedName</code> đó là instance của function này có thể được sử dụng trong quá trình build của babel và webpack.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @file Webpack configuration.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">'path'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> generateScopedName = <span class="function">(<span class="params">localName, resourcePath</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> componentName = resourcePath.split(<span class="string">'/'</span>).slice(<span class="number">-2</span>, <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> componentName + <span class="string">'_'</span> + localName;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        include: path.resolve(__dirname, <span class="string">'../app'</span>),</span><br><span class="line">        loader: <span class="string">'babel-loader'</span>,</span><br><span class="line">        options: &#123;</span><br><span class="line">          babelrc: <span class="literal">false</span>,</span><br><span class="line">          extends: path.resolve(__dirname, <span class="string">'../app/webpack.production.babelrc'</span>),</span><br><span class="line">          plugins: [</span><br><span class="line">            [</span><br><span class="line">              <span class="string">'react-css-modules'</span>,</span><br><span class="line">              &#123;</span><br><span class="line">                context: common.context,</span><br><span class="line">                filetypes: &#123;</span><br><span class="line">                  <span class="string">'.scss'</span>: &#123;</span><br><span class="line">                    syntax: <span class="string">'postcss-scss'</span></span><br><span class="line">                  &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                generateScopedName,</span><br><span class="line">                webpackHotModuleReloading: <span class="literal">false</span></span><br><span class="line">              &#125;</span><br><span class="line">            ]</span><br><span class="line">          ]</span><br><span class="line">        &#125;,</span><br><span class="line">        test: <span class="regexp">/\.js$/</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.scss$/</span>,</span><br><span class="line">        use: [</span><br><span class="line">          &#123;</span><br><span class="line">            loader: <span class="string">'css-loader'</span>,</span><br><span class="line">            options: &#123;</span><br><span class="line">              camelCase: <span class="literal">true</span>,</span><br><span class="line">              getLocalIdent: <span class="function">(<span class="params">context, localIdentName, localName</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> generateScopedName(localName, context.resourcePath);</span><br><span class="line">              &#125;,</span><br><span class="line">              importLoaders: <span class="number">1</span>,</span><br><span class="line">              minimize: <span class="literal">true</span>,</span><br><span class="line">              modules: <span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="string">'resolve-url-loader'</span></span><br><span class="line">        ]</span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">'[name].[chunkhash].js'</span>,</span><br><span class="line">    path: path.join(__dirname, <span class="string">'./.dist'</span>),</span><br><span class="line">    publicPath: <span class="string">'/static/'</span></span><br><span class="line">  &#125;,</span><br><span class="line">  stats: <span class="string">'minimal'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="Dat-ten-ngan"><a href="#Dat-ten-ngan" class="headerlink" title="Đặt tên ngắn"></a>Đặt tên ngắn</h2><p>May mắn rằng <code>babel-plugin-react-css-modules</code> và <code>css-loader</code> sử dụng cùng 1 logic để sinh ra tên class CSS. Nhờ đó ta có thể thay đổi tên class bất cứ khi nào cần thiết, thậm chí các hash ngẫu nhiên. Cá nhân tôi thì lại muốn tên class ngắn nhất có thể.</p>
<p>Để làm được điều này, tôi sẽ tạo 1 class name index và sử dụng module <a href="https://github.com/grabantot/incstr" target="_blank" rel="noopener">incstr</a> để sinh ra các ID tăng dần cho mỗi bản ghi.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> incstr = <span class="built_in">require</span>(<span class="string">'incstr'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> createUniqueIdGenerator = <span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> index = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> generateNextId = incstr.idGenerator(&#123;</span><br><span class="line">    <span class="comment">// Removed "d" letter to avoid accidental "ad" construct.</span></span><br><span class="line">    <span class="comment">// @see https://medium.com/@mbrevda/just-make-sure-ad-isnt-being-used-as-a-class-name-prefix-or-you-might-suffer-the-wrath-of-the-558d65502793</span></span><br><span class="line">    alphabet: <span class="string">'abcefghijklmnopqrstuvwxyz0123456789'</span></span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function">(<span class="params">name</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (index[name]) &#123;</span><br><span class="line">      <span class="keyword">return</span> index[name];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> nextId;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">do</span> &#123;</span><br><span class="line">      <span class="comment">// Class name cannot start with a number.</span></span><br><span class="line">      nextId = generateNextId();</span><br><span class="line">    &#125; <span class="keyword">while</span> (<span class="regexp">/^[0-9]/</span>.test(nextId));</span><br><span class="line"></span><br><span class="line">    index[name] = generateNextId();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> index[name];</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> uniqueIdGenerator = createUniqueIdGenerator();</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> generateScopedName = <span class="function">(<span class="params">localName, resourcePath</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> componentName = resourcePath.split(<span class="string">'/'</span>).slice(<span class="number">-2</span>, <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> uniqueIdGenerator(componentName) + <span class="string">'_'</span> + uniqueIdGenerator(localName);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>Việc này sẽ đảm bảo được tên class sẽ đủ ngắn và duy nhất trong cả ứng dụng. Bây giờ thay vì là những cái tên dài ngoằng như <code>.MovieView___movie-title___yvKVV</code> và <code>.MovieView___movie-description-with-summary-paragraph___yvKVV</code>, tên class đã trở thành <code>.a_a</code>, <code>.b_a</code>.</p>
<p><strong><em>Nhờ đó mà kích thước file bundle css của <a href="https://go2cinema.com/" target="_blank" rel="noopener">GO2CINEMA</a> đã giảm từ 140kB xuống còn 53kB</em></strong>.</p>
<h2 id="Su-dung-Scope-Isolation-de-giam-kich-thuoc-file-bundle"><a href="#Su-dung-Scope-Isolation-de-giam-kich-thuoc-file-bundle" class="headerlink" title="Sử dụng Scope Isolation để giảm kích thước file bundle"></a>Sử dụng Scope Isolation để giảm kích thước file bundle</h2><p>Có 1 lý do cho việc tôi sử dụng <code>_</code> trong tên class, chia tách tên các component với tên các local identifier, điều này rất hữu ích cho quá trình minify.</p>
<p><a href="https://github.com/css/csso" target="_blank" rel="noopener">csso</a> (CSS minifier) có những thiết lập về <a href="https://github.com/css/csso#scopes" target="_blank" rel="noopener">scope</a>. Scope sẽ định nghĩa các danh sách tên class CSS để sử dụng với 1 số markup, ví dụ các selector từ các scope khác nhau sẽ không nối với các element giống nhau. Việc này sẽ giúp cho việc optimize chủ động hơn.</p>
<p>Dưới đây là code sử dụng <a href="https://github.com/zoobestik/csso-webpack-plugin" target="_blank" rel="noopener">csso-webpack-plugin</a> để tiền xử lý file bundle CSS:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> getScopes = <span class="function">(<span class="params">ast</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> scopes = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> getModuleID = <span class="function">(<span class="params">className</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> tokens = className.split(<span class="string">'_'</span>)[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (tokens.length !== <span class="number">2</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">'default'</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> tokens[<span class="number">0</span>];</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  csso.syntax.walk(ast, node =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (node.type === <span class="string">'ClassSelector'</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> moduleId = getModuleID(node.name);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (moduleId) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!scopes[moduleId]) &#123;</span><br><span class="line">          scopes[moduleId] = [];</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (!scopes[moduleId].includes(node.name)) &#123;</span><br><span class="line">          scopes[moduleId].push(node.name);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Object</span>.values(scopes);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong><em>Quá trình này tiếp tục giảm kích thước file bundle CSS của <a href="https://go2cinema.com/" target="_blank" rel="noopener">GO2CINEMA</a> từ 53kB còn 47kB.</em></strong></p>
<h2 id="Ket-luan"><a href="#Ket-luan" class="headerlink" title="Kết luận"></a>Kết luận</h2><p>Hẳn sẽ có những ý kiến trái chiều nói rằng việc minify này hoàn toàn có thể dùng thuật toán nén. Với GO2CINEMA, fle bundle CSS sau khi được nén bằng thuật toán <a href="https://en.wikipedia.org/wiki/Brotli" target="_blank" rel="noopener">Brotli</a> thì kích thước của nó chỉ ít hơn 1kB so với cách minify file bundle bỏ-tên-class tôi đã trình bày trên.</p>
<p>Mặt khác, cài đặt quá trình minify có thể xem như là 1 khoản đầu tư dài hạn. Ngoài việc giảm kích thước file cần parse, nó còn có những lợi ích khác nữa, ví dụ như ngăn chặn việc tên class CSS không bị nối với các selector của <a href="https://gist.github.com/spyesx/42fe84c0ef757d1c38a4" target="_blank" rel="noopener">blocklist</a> ad-blocker chẳng hạn.</p>
<p>Bạn có thể xem demo của minification này được sử dụng với các phim trên GO2CINEMA:</p>
<ul>
<li><a href="https://go2cinema.com/movies/wonder-woman-2017-1305237" target="_blank" rel="noopener">https://go2cinema.com/movies/wonder-woman-2017-1305237</a></li>
<li><a href="https://go2cinema.com/venues/odeon-oxford-magdalen-st-1001053" target="_blank" rel="noopener">https://go2cinema.com/venues/odeon-oxford-magdalen-st-1001053</a></li>
</ul>
<span>Source: </span><a href="https://medium.freecodecamp.org/reducing-css-bundle-size-70-by-cutting-the-class-names-and-using-scope-isolation-625440de600b" target="_blank" title="https://medium.freecodecamp.org/reducing-css-bundle-size-70-by-cutting-the-class-names-and-using-scope-isolation-625440de600b" class="post-from">https://medium.freecodecamp.org/reducing-css-bundle-size-70-by-cutting-the-class-names-and-using-scope-isolation-625440de600b</a></div></div></article></div></section><div class="wrap"><footer><div class="paginator"><a href="/2017/08/A-Jade-Tutorial-for-Beginners.html" class="prev">NEXT</a><a href="/2017/07/How-to-Create-a-Reddit-Clone-Using-React-and-Firebase.html" class="next">PREV</a></div><div class="copyright"><p>© 2017 - 2018 <a href="http://nthung2112.github.io">Hung Tan Nguyen</a>, unless otherwise noted.</p></div></footer></div><script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-41935289-1",'auto');ga('send','pageview');</script><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script><script src="/js/zoom.js"></script><script src="/js/insight.js"></script></body></html>