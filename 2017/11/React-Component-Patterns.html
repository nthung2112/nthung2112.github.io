<!DOCTYPE html><html lang="en"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="utf-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title> React Component Patterns · Learn and Share</title><meta name="description" content="React Component Patterns - Hung Tan Nguyen"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="theme-color" content="#FB4D42"><meta name="google-site-verification" content="rk-Nc1c8xi1CdZ0ZQIVV-ifsndGrHanIuSHI-yTHZYE"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="/css/zoom.css"><meta property="og:title" content="React Component Patterns"><meta property="og:image"><meta property="og:description" content="Stateful x Stateless, Container x Presentational, HOCs, Render Callbacks and moreIt’s been a while since I’ve been working with React — a Facebook library to build user interfaces using JavaScript — and there are a few concepts I wish I knew when I was just starting. This text is an attempt to summarize some patterns I learned during my experience so far — and also may be useful for developers who are just about to enter this awesome component-based world."></head><body><div class="wrap"><div class="header"><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="https://github.com/nthung2112" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/about" target="_self" class="nav-list-link">ABOUT</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li><li class="nav-list-item search-form-input"><div class="search-icon"><div class="search-icon__circle"></div><div class="search-icon__rectangle"></div></div></li></ul><div class="ins-search"><div class="ins-search-mask"></div><div class="ins-search-container"><div class="ins-input-wrapper"><input type="text" placeholder="Type something..." class="ins-search-input"><span class="ins-close ins-selectable"><div class="close-icon"><div class="close-icon__x"></div><div class="close-icon__y"></div></div></span></div><div class="ins-section-wrapper"><div class="ins-section-container"></div></div></div></div><script>var rootUrl = "/";
var contentUrl = '/content.json';
(function (window) {
  var INSIGHT_CONFIG = {
  TRANSLATION: {
      POSTS:'Posts',
      PAGES: 'Pages',
      CATEGORIES: 'Categories',
      TAGS: 'Tags',
      UNTITLED: '(Untitled)'
    },
    ROOT_URL: rootUrl,
    CONTENT_URL: contentUrl,
  };
  window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);</script></div></div><section class="container"><div class="post"><article class="post-block"><div class="wrap"><h1 class="post-title">React Component Patterns</h1><h2 class="post-subtitle"></h2><header class="post-info">Nov 28, 2017<div class="tags"><a href="/tags/react" class="tag-link">#react</a><a href="/tags/javascript" class="tag-link">#javascript</a></div><div class="fb-ir-time"><time datetime="2017-11-28T03:53:16.000Z" class="op-modified"></time><time datetime="2017-11-28T03:53:16.000Z" class="op-published"></time></div></header></div><div class="wrap"><div class="post-content"><h2 id="Stateful-x-Stateless-Container-x-Presentational-HOCs-Render-Callbacks-and-more"><a href="#Stateful-x-Stateless-Container-x-Presentational-HOCs-Render-Callbacks-and-more" class="headerlink" title="Stateful x Stateless, Container x Presentational, HOCs, Render Callbacks and more"></a>Stateful x Stateless, Container x P<strong>resentational</strong>, HOCs, Render Callbacks and more</h2><p>It’s been a while since I’ve been working with <a href="https://facebook.github.io/react/" target="_blank" rel="noopener"><strong>React</strong></a> — a Facebook library to build user interfaces using JavaScript — and there are a few concepts I wish I knew when I was just starting. This text is an attempt to summarize some patterns I learned during my experience so far — and also may be useful for developers who are just about to enter this awesome component-based world.</p>
<p><img src="https://cdn-images-1.medium.com/max/2000/1*mPL5M-XhGpDuXLniVRCthw.png" alt=""><br><a id="more"></a></p>
<h3 id="Stateful-x-Stateless-Components"><a href="#Stateful-x-Stateless-Components" class="headerlink" title="Stateful x Stateless Components"></a>Stateful x Stateless Components</h3><p>Just as Stateful and Stateless web services, React components can also hold and manipulate state during application usage (<strong>Stateful</strong>) — or just be a simple component that takes the input props and returns what to display (<strong>Stateless</strong>).</p>
<p>A simple <strong>Stateless</strong> button component that depends on props only:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*fgZOSwpdU7MMNxltRcXAcQ.png" alt=""></p>
<p>And a <strong>Stateful</strong> counter component example (using Button component):</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*TYPgsZUZMoo7lW7xv4gxYw.png" alt=""></p>
<p>As you can see, the last one’s constructor holds a component state, while the first one is a simple component that renders a text via props. This separation of concerns may look simple but makes Button component highly reusable.</p>
<h3 id="Container-x-Presentational-Components"><a href="#Container-x-Presentational-Components" class="headerlink" title="Container x Presentational Components"></a>Container x Presentational Components</h3><p>When working with external data, we can divide components into this two new categories. <strong>Containers</strong> are responsible to reach data that lives outside React scope, like connecting to <em>Redux</em> or <em>Relay</em> — while <strong>Presentational</strong> components are free of dependencies from the rest of the app, depending only on its own state or props received. Let’s take a users list as a <strong>Presentational</strong> component example:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*wbih6jbxJiIgNOXgRpcROA.png" alt=""></p>
<p>This list can be updated using our <strong>Container</strong> component:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*TJxCVhawM2e99dZsxu11oA.png" alt=""></p>
<p>This approach divides data-fetching from rendering and also makes UserListreusable. If you want to learn more about this pattern, there’s an <a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0" target="_blank" rel="noopener">awesome article from Dan Abramov</a> explaining it precisely.</p>
<h3 id="Higher-Order-Components"><a href="#Higher-Order-Components" class="headerlink" title="Higher-Order Components"></a>Higher-Order Components</h3><p>Higher-Order Components — or just <strong><em>HOCs</em></strong>_ — _are useful when you want to reuse a component logic. They are JavaScript functions that take a component as an argument and returns a new component.</p>
<p>Let’s say you need to build an expandable menu component that shows some children content when user clicks on it. So, instead of controlling the state on its parent component, you can simply create a generic <strong>HOC</strong> to handle it:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*qchJXtrHlR46phKFDDJeeQ.png" alt=""></p>
<p>This approach allows us to apply our logic to our ToggleableMenu component using the JavaScript <em>decorator</em> syntax:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*RQuGzKKbT7R9OIDBzhO8gg.png" alt=""></p>
<p>Now we can pass any children to ToggleableMenu component:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*rWCZQqL0Rbizbrw_yjgxgA.png" alt=""></p>
<p>If you’re familiar with <a href="http://redux.js.org/" target="_blank" rel="noopener">Redux’s</a> connect or <a href="https://github.com/ReactTraining/react-router" target="_blank" rel="noopener">React Router’s</a> withRouter functions, you’re already using <strong>HOCs</strong>!</p>
<h3 id="Render-Callbacks"><a href="#Render-Callbacks" class="headerlink" title="Render Callbacks"></a>Render Callbacks</h3><p>Another great way to make a component logic reusable is by turning your component children into a function — that’s why <strong>Render Callbacks</strong> are also called <strong>Function as Child Components</strong>. We can take an example of our expandable menu <strong>HOC</strong> and rewrite it using the <strong>Render Callback</strong> pattern:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*Ul-ubPnaOFtY4mTeM5PW3A.png" alt=""></p>
<p>Now we can pass a function as our Toggleable component children:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*cwoZiIT3Gcau5lDwyCQzQw.png" alt=""></p>
<p>The code above is already using a function as children, but, if we want to reuse it just as we did in our <strong>HOC</strong> example (multiple menus), we could simply create a new component that uses Toggleable logic:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*DVfPDwHw_eH9dUeX9w5GEg.png" alt=""></p>
<p>Our brand new ToggleableMenu component is ready to be used:</p>
<p><img src="https://cdn-images-1.medium.com/max/1600/1*hzpuJMAMTRQZK_vKCK_jhQ.png" alt=""></p>
<p>Our Menu component looks exactly the same as our <strong>HOC</strong> example!</p>
<p>This approach is really useful when we want to change the rendered content itself regardless of <strong>state</strong> manipulation: as you can see, we’ve moved our <strong>render</strong> logic to our ToggleableMenu children function, but kept the <strong>state</strong> logic to our Toggleablecomponent!</p>
<span>Source: </span><a href="https://levelup.gitconnected.com/react-component-patterns-ab1f09be2c82" target="_blank" title="https://levelup.gitconnected.com/react-component-patterns-ab1f09be2c82" class="post-from">https://levelup.gitconnected.com/react-component-patterns-ab1f09be2c82</a></div></div></article></div></section><div class="wrap"><footer><div class="paginator"><a href="/2017/12/22-React-projects-open-source.html" class="prev">NEXT</a><a href="/2017/11/The-Front-End-Checklist.html" class="next">PREV</a></div><div class="copyright"><p>© 2017 - 2018 <a href="http://nthung2112.github.io">Hung Tan Nguyen</a>, unless otherwise noted.</p></div></footer></div><script async src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-41935289-1",'auto');ga('send','pageview');</script><script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script><script src="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/js/bootstrap.min.js"></script><script src="/js/zoom.js"></script><script src="/js/insight.js"></script></body></html>